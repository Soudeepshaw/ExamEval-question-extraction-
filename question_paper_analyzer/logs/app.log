2025-07-06 21:12:37 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 21:12:37 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 21:12:37 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 21:12:37 | INFO     | app.main:startup_event:51 - Gemini model: gemini-1.5-pro
2025-07-06 21:12:37 | ERROR    | app.main:startup_event:55 - GEMINI_API_KEY not found in environment variables
2025-07-06 21:13:05 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 21:13:06 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 21:13:06 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 21:13:06 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 21:13:06 | ERROR    | app.main:startup_event:55 - GEMINI_API_KEY not found in environment variables
2025-07-06 21:14:06 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 21:14:06 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 21:14:06 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 21:14:06 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 21:14:40 | INFO     | app.api.endpoints:analyze_question_paper:33 - Received file for analysis: 086_SCIENCE (1).pdf (3330448 bytes)
2025-07-06 21:14:40 | INFO     | app.services.pdf_analyzer:_validate_file:75 - File validation passed: 086_SCIENCE (1).pdf
2025-07-06 21:14:40 | INFO     | app.services.pdf_analyzer:_save_temp_file:88 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_p_6krj_q.pdf (3330448 bytes)
2025-07-06 21:14:40 | INFO     | app.core.gemini_client:upload_file:20 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_p_6krj_q.pdf
2025-07-06 21:14:54 | INFO     | app.core.gemini_client:upload_file:22 - File uploaded successfully: https://generativelanguage.googleapis.com/v1beta/files/d5gn7ysmgy4t
2025-07-06 21:14:54 | INFO     | app.core.gemini_client:analyze_structure:37 - Sending structure analysis request to Gemini
2025-07-06 21:14:56 | ERROR    | app.core.gemini_client:analyze_structure:59 - Failed to analyze structure: 400 The document has no pages.
2025-07-06 21:14:58 | INFO     | app.core.gemini_client:analyze_structure:37 - Sending structure analysis request to Gemini
2025-07-06 21:14:59 | ERROR    | app.core.gemini_client:analyze_structure:59 - Failed to analyze structure: 400 The document has no pages.
2025-07-06 21:15:01 | INFO     | app.core.gemini_client:analyze_structure:37 - Sending structure analysis request to Gemini
2025-07-06 21:15:01 | ERROR    | app.core.gemini_client:analyze_structure:59 - Failed to analyze structure: 400 The document has no pages.
2025-07-06 21:15:01 | ERROR    | app.services.pdf_analyzer:analyze_question_paper:51 - Analysis failed: RetryError[<Future at 0x1c6a6f4c0d0 state=finished raised InvalidArgument>]
2025-07-06 21:15:01 | INFO     | app.services.pdf_analyzer:analyze_question_paper:63 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_p_6krj_q.pdf
2025-07-06 21:15:01 | ERROR    | app.api.endpoints:analyze_question_paper:42 - Analysis failed: RetryError[<Future at 0x1c6a6f4c0d0 state=finished raised InvalidArgument>]
2025-07-06 21:25:00 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 21:25:06 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 21:25:06 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 21:25:06 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 21:25:06 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 21:26:02 | INFO     | app.api.endpoints:analyze_question_paper:33 - Received file for analysis: 086_SCIENCE (1).pdf (3330448 bytes)
2025-07-06 21:26:02 | INFO     | app.services.pdf_analyzer:_validate_file:75 - File validation passed: 086_SCIENCE (1).pdf
2025-07-06 21:26:02 | INFO     | app.services.pdf_analyzer:_save_temp_file:88 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_fd53uy28.pdf (3330448 bytes)
2025-07-06 21:26:02 | INFO     | app.core.gemini_client:upload_file:26 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_fd53uy28.pdf
2025-07-06 21:26:15 | INFO     | app.core.gemini_client:upload_file:39 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/m0ugmhdvqcwu
2025-07-06 21:26:15 | INFO     | app.core.gemini_client:analyze_structure:54 - Sending structure analysis request to Gemini
2025-07-06 21:27:53 | INFO     | app.core.gemini_client:analyze_structure:62 - Received response from Gemini
2025-07-06 21:27:53 | INFO     | app.services.pdf_analyzer:_validate_and_structure_response:114 - Successfully structured response with 3 sections
2025-07-06 21:27:53 | INFO     | app.services.pdf_analyzer:analyze_question_paper:63 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_fd53uy28.pdf
2025-07-06 21:27:53 | INFO     | app.api.endpoints:analyze_question_paper:39 - Analysis completed successfully in 110.71s
2025-07-06 21:47:53 | INFO     | app.api.endpoints:analyze_question_paper:33 - Received file for analysis: class 10 scinece.pdf (918043 bytes)
2025-07-06 21:47:53 | INFO     | app.services.pdf_analyzer:_validate_file:75 - File validation passed: class 10 scinece.pdf
2025-07-06 21:47:53 | INFO     | app.services.pdf_analyzer:_save_temp_file:88 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_b8qty7kz.pdf (918043 bytes)
2025-07-06 21:47:53 | INFO     | app.core.gemini_client:upload_file:26 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_b8qty7kz.pdf
2025-07-06 21:48:04 | INFO     | app.core.gemini_client:upload_file:39 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/sak7o7zokgz8
2025-07-06 21:48:04 | INFO     | app.core.gemini_client:analyze_structure:54 - Sending structure analysis request to Gemini
2025-07-06 21:49:10 | INFO     | app.core.gemini_client:analyze_structure:62 - Received response from Gemini
2025-07-06 21:49:10 | INFO     | app.services.pdf_analyzer:_validate_and_structure_response:114 - Successfully structured response with 5 sections
2025-07-06 21:49:10 | INFO     | app.services.pdf_analyzer:analyze_question_paper:63 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_b8qty7kz.pdf
2025-07-06 21:49:10 | INFO     | app.api.endpoints:analyze_question_paper:39 - Analysis completed successfully in 76.39s
2025-07-06 22:02:34 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:02:39 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:02:39 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:02:39 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:02:39 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:02:42 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:02:46 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:02:46 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:02:46 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:02:46 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:11:42 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:11:45 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:11:45 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:11:45 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:11:45 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:13:49 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:14:11 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:14:11 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:14:11 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:14:11 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:14:43 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:14:54 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:14:54 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:14:54 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:14:54 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:14:54 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:15:18 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:15:18 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:15:18 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:15:18 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:15:35 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:15:39 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:15:39 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:15:39 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:15:39 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.5-pro
2025-07-06 22:15:45 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:15:48 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 39 question types
2025-07-06 22:15:48 | INFO     | app.main:startup_event:49 - Starting Question Paper Analyzer
2025-07-06 22:15:48 | INFO     | app.main:startup_event:50 - Max file size: 20MB
2025-07-06 22:15:48 | INFO     | app.main:startup_event:51 - Gemini model: gemini-2.0-flash-exp
2025-07-06 22:18:32 | INFO     | app.main:shutdown_event:61 - Shutting down Question Paper Analyzer
2025-07-06 22:18:36 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:18:36 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:18:36 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:18:36 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.0-flash-exp
2025-07-06 22:18:36 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:18:36 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 22:20:36 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:91 - Received file for enhanced analysis: class 10 scinece.pdf (918043 bytes)
2025-07-06 22:20:36 | INFO     | app.services.pdf_analyzer:_validate_file:153 - File validation passed: class 10 scinece.pdf
2025-07-06 22:20:36 | INFO     | app.services.pdf_analyzer:_save_temp_file:166 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_r2wuehxf.pdf (918043 bytes)
2025-07-06 22:20:36 | INFO     | app.core.gemini_client:upload_file:26 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_r2wuehxf.pdf
2025-07-06 22:20:45 | INFO     | app.core.gemini_client:upload_file:39 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/kk09vz5qf3zo
2025-07-06 22:20:45 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-06 22:20:45 | INFO     | app.core.gemini_client:analyze_structure:54 - Sending structure analysis request to Gemini
2025-07-06 22:21:17 | INFO     | app.core.gemini_client:analyze_structure:61 - Received structure response from Gemini
2025-07-06 22:21:17 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 32.01s
2025-07-06 22:21:17 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-06 22:21:17 | INFO     | app.core.gemini_client:extract_content:78 - Sending content extraction request to Gemini
2025-07-06 22:22:08 | INFO     | app.core.gemini_client:extract_content:85 - Received content response from Gemini
2025-07-06 22:22:08 | ERROR    | app.core.gemini_client:_parse_json_response:116 - Failed to parse JSON response: Expecting ',' delimiter: line 901 column 10 (char 33157)
2025-07-06 22:22:08 | ERROR    | app.core.gemini_client:_parse_json_response:117 - Raw response: {
  "sections": [
    {
      "name": "Section-A",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question 1 to 16 are multiple choice questions. Only one of the choices is correct. Select and write the correct choice as well as the answer to these questions.",
      "questions": [
        {
          "number": "1",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify 'p', 'q' and 'r' in the following balanced reaction\nHeat\np Pb (NO3)2(s) ------> q PbO(s) + r NO2(g) + O2(g)",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "2,2,4",
            "2,4,2",
            "2,4,4",
            "4,2,2"
          ]
        },
        {
          "number": "2",
          "type": "matching",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Match column I with column II and select the correct option using the given\ncodes.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "column_a": [
            "A metal that forms amphoteric oxides",
            "A metal which melts when kept on our palm",
            "A metal that reacts with nitric acid",
            "A metal which cannot displace hydrogen from\nacids"
          ],
          "column_b": [
            "(i) Ga",
            "(ii) Au",
            "(iii) Al",
            "(iv) Mn"
          ],
          "options": [
            "a – (ii), b – (i), c – (iii), d – (iv)",
            "a – (iii), b – (i), c – (iv), d – (ii)",
            "a – (iv), b – (ii), c – (iii), d - (i)",
            "a – (iii), b – (ii), c – (i), d – (iv)"
          ]
        },
        {
          "number": "3",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The solution in the given figure is likely to be",
            "images": [
              {
                "description": "A battery is connected to a circuit. A bulb is present in the circuit, but it does not glow. A beaker contains a solution, and two electrodes are submerged in the solution.",
                "position": "top",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "ΗΝΟ3",
            "C2H5OH",
            "H2SO4",
            "CO2 in water"
          ]
        },
        {
          "number": "4",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "An aqueous solution 'A' turns the phenolphthalein solution pink. On addition of\nan aqueous solution 'B' to 'A', the pink colour disappears. Which of the following\nstatement is true for the solutions 'A' and 'B'.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A is strongly basic and B is a weak base.",
            "A is strongly acidic and B is a weak acid.",
            "A has a pH greater than 7 and B has a pH less than 7.",
            "A has a pH less than 7 and B has a pH greater than 7."
          ]
        },
        {
          "number": "5",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "When 50g of lead powder is added to 300 ml of blue copper sulphate\nsolution, after a few hours, the solution becomes colourless. This is an\nexample of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Combination reaction",
            "Decomposition reaction",
            "Displacement reaction",
            "Double displacement reaction"
          ]
        },
        {
          "number": "6",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The electronic configuration of three elements X, Y and Z are X- 2, 8, 7; Y- 2,\n8, 2; and Z - 2, 8",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Y and Z are metals",
            "Y and X are non-metals",
            "X is a non-metal and Y is a metal",
            "Y is a non-metal and Z is a metal"
          ]
        },
        {
          "number": "7",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is an endothermic reaction?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Burning of candle.",
            "Cooking of food.",
            "Decomposition of Vegetable matter.",
            "Reaction of Sodium with air"
          ]
        },
        {
          "number": "8",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During cellular oxidation of Glucose, ATP is produced along with formation of\nother products in this reaction. Which of the following events is associated with\nproduction of maximum ATP molecules per molecule of Glucose during this\nprocess? Synthesis of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "ethanol in yeast",
            "lactic acid in muscle cells",
            "carbon dioxide in yeast cells",
            "carbon dioxide in human cells"
          ]
        },
        {
          "number": "9",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During which of the following stages of the circulation of blood in a normal\nhuman being, the oxygenated blood is pumped to all parts of the body?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "contraction of the left atrium",
            "contraction of left ventricle",
            "relaxation of the right atrium",
            "relaxation of the right ventricle"
          ]
        },
        {
          "number": "10",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following adaptations in herbivores helps in digestions of\ncellulose?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Longer large intestine",
            "Smaller large intestine",
            "Smaller small intestine",
            "Longer small intestine"
          ]
        },
        {
          "number": "11",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "There was a cerebellar dysfunction in a patient. Which of the following activities\nwill get disturbed in this patient as a result of this?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Salivation",
            "Hunger control",
            "Posture and balance",
            "Regulation of blood pressure"
          ]
        },
        {
          "number": "12",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In snails individuals can begin life as male and depending on environmental\nconditions they can become female as they grow. This is because",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "male snails have dominant genetic makeup.",
            "female snails have dominant genetic makeup.",
            "expression of sex chromosomes can change in a snail's life time.",
            "sex is not genetically determined in snails."
          ]
        },
        {
          "number": "13",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In the following cases, a ray is incident on a concave mirror. In which case\nis the angle of incidence equal to zero?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A ray parallel to the principal axis.",
            "A ray passing through the centre of curvature and incident obliquely.",
            "A ray passing through the principal focus and incident obliquely.",
            "A ray incident obliquely to the principal axis, at the pole of the mirror."
          ]
        },
        {
          "number": "14",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Choose the correct option for the colour of rays for A and B.",
            "images": [
              {
                "description": "A diagram shows white light passing through a glass prism, splitting into two rays labeled A and B. X is located before prism.",
                "position": "top",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Blue",
            "Green",
            "Red",
            "Violet"
          ]
        },
        {
          "number": "15",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify the incorrect statement\n'The energy available to the producers is maximum' because:",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "It is the first trophic level which absorbs1% of light energy directly from\nthe source.",
            "It utilizes the most of the chemical energy for its own respiration, growth,\nreproduction, movement etc.",
            "It utilizes 10% of light energy and transfers the rest to the next trophic\nlevel.",
            "It transfers only 10% of light energy to the next trophic level."
          ]
        },
        {
          "number": "16",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is not a role of decomposers in the ecosystem?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Natural replenishment of soil.",
            "Enrichment of oxygen in atmosphere.",
            "Waste decomposition.",
            "Break-down of dead remains."
          ]
        },
        {
          "number": "17",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): On adding dil. HCl to a test tube containing a substance 'X', a\ncolourless gas is produced which gives a pop sound when a burning match\nstick is brought near it.\nReason (R): In this reaction metal ‘X' is displaced by Hydrogen.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "18",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): Generally, the number of chromosomes in a cell and in a germ\ncell is not the same in species.\nReason (R): When two germ cells combine, they restore the normal number of\nchromosomes in a species.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "19",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): A convex mirror always forms an image behind it and the image\nformed is virtual.\nReason (R): According to the sign convention, the focal length of a convex\nmirror is positive.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "20",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): If the lions are removed from a food chain it will not affect the\nfood chain, however if the plants are removed from a food chain it will disturb\nthe ecosystem.\nReason (R): Plants are producers who can make food using sunlight, while\nlions are consumers.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-B",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 21 to 26 are very short answer questions",
      "questions": [
        {
          "number": "21",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Identify the type of each of the following reactions stating the reason for your\nanswers.\nA. Fe2O3 + 2AI → Al2O3 + 2Fe + heat\nB. Pb (NO3)2 + 2KI → PbI2(↓)+ 2KNO3",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "22",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Differentiate between alveoli and nephron on the basis of the following points:",
            "images": [],
            "diagrams": [],
            "tables": [
              {
                "S. No.": "1",
                "Feature": "Structure and location",
                "Alveoli": null,
                "Nephron": null
              },
              {
                "S. No.": "2",
                "Feature": "Function",
                "Alveoli": null,
                "Nephron": null
              }
            ],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "23",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "List the steps for the synthesis of glucose by the plants. What special\nfeature is found in desert plants related to this process?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "Explain the role of the following enzymes in the process of digestion of food\nin humans:\n(i) Salivary amylase\n(ii) Pepsin\n(iii) Trypsin\n(iv) Lipase",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "24",
          "type": "diagram_based",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The above figure shows the formation of an image by a lens shown by a thick\nline.",
            "images": [
              {
                "description": "A lens diagram is shown with a thick line indicating a lens. A ray of light is shown refracting through the lens, forming an image.",
                "position": "top",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "25",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "Analyse the figure and answer the following questions.\nA. What is the type of lens used?\nB. What is the nature of the image?\nC. If the image is formed at a distance of 30 cm from the lens and the\nimage is twice the size of the object, then where is the object placed?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "The electric circuit (above figure) in a clothes dryer contains two heaters X\nand Y in parallel. The above figure shows the circuit connected to a 230 V\npower supply. When both switches are closed, the current in X is 3.5 А.\n\nAnalyse the circuit given above and answer the following questions.\n(i) Calculate the power developed in heater X.\n(ii) If the resistance of X is double that of Y calculate the current in heater\nY.",
                "images": [
                  {
                    "description": "An electric circuit diagram shows a 230V power supply connected to two heaters X and Y in parallel. Two switches are present in the circuit.",
                    "position": "top",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "26",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The cartoon below addresses a growing concern:\n\nWhat impact will the process shown in the image have on Humans if they\noccupy the last trophic level? Explain.",
            "images": [
              {
                "description": "A cartoon shows two fields of cabbage. One field is healthy, and the other is affected by pesticides. Human's feet are walking in pesticide affected field.",
                "position": "top",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-C",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 27 to 33 are short answer questions",
      "questions": [
        {
          "number": "27",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "Anirudh took two metal oxides; aluminium oxide and magnesium oxide as\nshown in the pictures given below. But he forgot to label them. How will\nyou guide/ help Anirudh to identify the oxides and label them?",
            "images": [
              {
                "description": "Two images are shown. One image contains a white powder, and the other image shows a cloudy white powder.",
                "position": "top",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "28",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "(i) In the given series of reactions, name the compounds X and Z.\n(ii) Which type of reaction is X to Z?\n(iii) You are given 3 unknown solutions A, B, and C with pH values of 6, 8\nand 9.5 respectively. In which solution will the maximum number of\nhydronium ions be present? Arrange the given samples in the\nincreasing order of H+ ion concentration.",
                "images": [],
                "diagrams": [
                  "A diagram shows a reaction series where NaCl + H2O + CO2↑ + NH3 ↑ reacts to form X and Y. X reacts with Δ to form Z + H2O + CO2↑. Q + 10H2O is added to Z"
                ],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "Comment on the following statements:\n(i) Bee sting is treated with baking soda paste whereas wasp sting is\ntreated with dilute vinegar.\n(ii) Farmers treat soil with quicklime when tilling.\n(iii) Ancient sculptures and marble structures are conserved by treating\nthem with certain chemicals.\"",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "29",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "Water is used by the leaves of the plants for photosynthesis but rather than\nwatering the leaves, we water the plant through the soil. How does this water\nreach the leaves of the plant?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "30",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 2,
              "content": {
                "text": "In a family of four individuals, the father possessed long ears and the mother\npossessed short ears. If the parents had pure dominant and recessive traits\nrespectively and F1 individual is married to an unrelated individual of the\nsame genotype, then calculate the ratio of genetic makeup of F2 generation.\nShow a suitable cross.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 1,
              "content": {
                "text": "If father had short ears and the mother had long ears, and both the parents\nare homozygous for the allelic pair of genes, explain what effect it will have\non the ratio of genetic makeup in F2 generation, if F1 individual is married\nto an unrelated individual of the same genotype.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "31",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "What is the fundamental difference between hypermetropia and myopia\nin terms of the optical experience of a person?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "diagram_based",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "The diagram below shows a special case of an eye defect.\n(i) What is the defect that is shown in the figure?\n(ii) State one cause for such a defect?\n(iii) Explain with reason if a concave lens can be used to correct the\ndefect.",
                "images": [],
                "diagrams": [
                  "A diagram of the human eye shows light rays converging before reaching the retina. The points N and N' are marked inside the eye, before the retina."
                ],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "32",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "State the relationship between the resistance R of a wire to its length I\nand cross sectional area A. Use the mathematical symbols to arrive at\nthe final formula.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "Using the formula define the resistivity of a material.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "33",
          "type": "short_answer",
          "
2025-07-06 22:22:08 | ERROR    | app.core.gemini_client:extract_content:90 - Failed to extract content: Expecting ',' delimiter: line 901 column 10 (char 33157)
2025-07-06 22:22:10 | INFO     | app.core.gemini_client:extract_content:78 - Sending content extraction request to Gemini
2025-07-06 22:22:57 | INFO     | app.core.gemini_client:extract_content:85 - Received content response from Gemini
2025-07-06 22:22:57 | ERROR    | app.core.gemini_client:_parse_json_response:116 - Failed to parse JSON response: Expecting ',' delimiter: line 967 column 6 (char 33791)
2025-07-06 22:22:57 | ERROR    | app.core.gemini_client:_parse_json_response:117 - Raw response: {
  "sections": [
    {
      "name": "Section-A",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question 1 to 16 are multiple choice questions. Only one of the choices is correct. Select and write the correct choice as well as the answer to these questions.",
      "questions": [
        {
          "number": "1",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify 'p', 'q' and 'r' in the following balanced reaction\nHeat\np Pb (NO3)2(s) ------> q PbO(s) + r NO2(g) + O2(g)",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "2,2,4",
            "2,4,2",
            "2,4,4",
            "4,2,2"
          ]
        },
        {
          "number": "2",
          "type": "matching",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Match column I with column II and select the correct option using the given\ncodes.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "column_a": [
            "A metal that forms amphoteric oxides",
            "A metal which melts when kept on our palm",
            "A metal that reacts with nitric acid",
            "A metal which cannot displace hydrogen from\nacids"
          ],
          "column_b": [
            "(i) Ga",
            "(ii) Au",
            "(iii) Al",
            "(iv) Mn"
          ],
          "options": [
            "a – (ii), b – (i), c – (iii), d – (iv)",
            "a – (iii), b – (i), c – (iv), d – (ii)",
            "a – (iv), b – (ii), c – (iii), d - (i)",
            "a – (iii), b – (ii), c – (i), d – (iv)"
          ]
        },
        {
          "number": "3",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The solution in the given figure is likely to be",
            "images": [
              {
                "description": "Circuit diagram with battery, wires, bulb that does not glow, a beaker with a solution, and two electrodes dipped in the solution. An unspecified solution is in the beaker.",
                "position": "above",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "HNO3",
            "C2H5OH",
            "H2SO4",
            "CO2 in water"
          ]
        },
        {
          "number": "4",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "An aqueous solution 'A' turns the phenolphthalein solution pink. On addition of\nan aqueous solution 'B' to 'A', the pink colour disappears. Which of the following\nstatement is true for the solutions 'A' and 'B'.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A is strongly basic and B is a weak base.",
            "A is strongly acidic and B is a weak acid.",
            "A has a pH greater than 7 and B has a pH less than 7.",
            "A has a pH less than 7 and B has a pH greater than 7."
          ]
        },
        {
          "number": "5",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "When 50g of lead powder is added to 300 ml of blue copper sulphate\nsolution, after a few hours, the solution becomes colourless. This is an\nexample of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Combination reaction",
            "Decomposition reaction",
            "Displacement reaction",
            "Double displacement reaction"
          ]
        },
        {
          "number": "6",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The electronic configuration of three elements X, Y and Z are X- 2, 8, 7; Y- 2,\n8, 2; and Z - 2, 8",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Y and Z are metals",
            "Y and X are non-metals",
            "X is a non-metal and Y is a metal",
            "Y is a non-metal and Z is a metal"
          ]
        },
        {
          "number": "7",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is an endothermic reaction?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Burning of candle.",
            "Cooking of food.",
            "Decomposition of Vegetable matter.",
            "Reaction of Sodium with air"
          ]
        },
        {
          "number": "8",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During cellular oxidation of Glucose, ATP is produced along with formation of\nother products in this reaction. Which of the following events is associated with\nproduction of maximum ATP molecules per molecule of Glucose during this\nprocess? Synthesis of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "ethanol in yeast",
            "lactic acid in muscle cells",
            "carbon dioxide in yeast cells",
            "carbon dioxide in human cells"
          ]
        },
        {
          "number": "9",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During which of the following stages of the circulation of blood in a normal\nhuman being, the oxygenated blood is pumped to all parts of the body?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "contraction of the left atrium",
            "contraction of left ventricle",
            "relaxation of the right atrium",
            "relaxation of the right ventricle"
          ]
        },
        {
          "number": "10",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following adaptations in herbivores helps in digestions of\ncellulose?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Longer large intestine",
            "Smaller large intestine",
            "Smaller small intestine",
            "Longer small intestine"
          ]
        },
        {
          "number": "11",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "There was a cerebellar dysfunction in a patient. Which of the following activities\nwill get disturbed in this patient as a result of this?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Salivation",
            "Hunger control",
            "Posture and balance",
            "Regulation of blood pressure"
          ]
        },
        {
          "number": "12",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In snails individuals can begin life as male and depending on environmental\nconditions they can become female as they grow. This is because",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "male snails have dominant genetic makeup.",
            "female snails have dominant genetic makeup.",
            "expression of sex chromosomes can change in a snail's life time.",
            "sex is not genetically determined in snails."
          ]
        },
        {
          "number": "13",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In the following cases, a ray is incident on a concave mirror. In which case\nis the angle of incidence equal to zero?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A ray parallel to the principal axis.",
            "A ray passing through the centre of curvature and incident obliquely.",
            "A ray passing through the principal focus and incident obliquely.",
            "A ray incident obliquely to the principal axis, at the pole of the mirror."
          ]
        },
        {
          "number": "14",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Choose the correct option for the colour of rays for A and B.",
            "images": [
              {
                "description": "Diagram of white light passing through a glass prism splitting it into rays A and B.",
                "position": "above",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [
              {
                "description": "Table to select correct colour of rays A and B.",
                "content": [
                  [
                    "Colour of Ray A",
                    "Colour of Ray B"
                  ]
                ]
              }
            ],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Blue",
            "Green",
            "Red",
            "Violet"
          ]
        },
        {
          "number": "15",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify the incorrect statement\n'The energy available to the producers is maximum' because:",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "It is the first trophic level which absorbs1% of light energy directly from\nthe source.",
            "It utilizes the most of the chemical energy for its own respiration, growth,\nreproduction, movement etc.",
            "It utilizes 10% of light energy and transfers the rest to the next trophic\nlevel.",
            "It transfers only 10% of light energy to the next trophic level."
          ]
        },
        {
          "number": "16",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is not a role of decomposers in the ecosystem?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Natural replenishment of soil.",
            "Enrichment of oxygen in atmosphere.",
            "Waste decomposition.",
            "Break-down of dead remains."
          ]
        },
        {
          "number": "17",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): On adding dil. HCl to a test tube containing a substance 'X', a\ncolourless gas is produced which gives a pop sound when a burning match\nstick is brought near it.\nReason (R): In this reaction metal ‘X' is displaced by Hydrogen.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "18",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): Generally, the number of chromosomes in a cell and in a germ\ncell is not the same in species.\nReason (R): When two germ cells combine, they restore the normal number of\nchromosomes in a species.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "19",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): A convex mirror always forms an image behind it and the image\nformed is virtual.\nReason (R): According to the sign convention, the focal length of a convex\nmirror is positive.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "20",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): If the lions are removed from a food chain it will not affect the\nfood chain, however if the plants are removed from a food chain it will disturb\nthe ecosystem.\nReason (R): Plants are producers who can make food using sunlight, while\nlions are consumers.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-B",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 21 to 26 are very short answer questions",
      "questions": [
        {
          "number": "21",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Identify the type of each of the following reactions stating the reason for your\nanswers.\nA. Fe2O3 + 2AI → Al2O3 + 2Fe + heat\nB. Pb (NO3)2 + 2KI → PbI2(↓)+ 2KNO3",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "22",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Differentiate between alveoli and nephron on the basis of the following points:",
            "images": [],
            "diagrams": [],
            "tables": [
              {
                "description": "Table to differentiate between alveoli and nephron",
                "content": [
                  [
                    "S. No.",
                    "Feature",
                    "Alveoli",
                    "Nephron"
                  ],
                  [
                    "1",
                    "Structure and location",
                    null,
                    null
                  ],
                  [
                    "2",
                    "Function",
                    null,
                    null
                  ]
                ]
              }
            ],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "23",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "List the steps for the synthesis of glucose by the plants. What special\nfeature is found in desert plants related to this process?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "Explain the role of the following enzymes in the process of digestion of food\nin humans:\n(i)\tSalivary amylase\n(ii)\tPepsin\n(iii)\tTrypsin\n(iv)\tLipase",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "24",
          "type": "diagram_based",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The above figure shows the formation of an image by a lens shown by a thick\nline.",
            "images": [
              {
                "description": "Diagram showing refraction through a thick lens, where light from object is incident on a thick lens and an image is formed.",
                "position": "above",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "25",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "What is the type of lens used?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "What is the nature of the image?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "26",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The cartoon below addresses a growing concern:",
            "images": [
              {
                "description": "cartoon depicting field split in half, with one half healthy crops and other half with plants ruined due to pesticide. A big skeleton figure is shown near pesticide plants.",
                "position": "above",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-C",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 27 to 33 are short answer questions",
      "questions": [
        {
          "number": "27",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "A. Anirudh took two metal oxides; aluminium oxide and magnesium oxide as\nshown in the pictures given below. But he forgot to label them. How will\nyou guide/ help Anirudh to identify the oxides and label them?",
            "images": [
              {
                "description": "Two images. Left: A white powdery substance in petri dish. Right: A bulky, white solid substance in petri dish.",
                "position": "below",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "28",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "(i) In the given series of reactions, name the compounds X and Z.\n(ii) Which type of reaction is X to Z?",
                "images": [
                  {
                    "description": "Reaction scheme: NaCl + H2O + CO2↑ + NH3 ↑ --> X + Y, X--> Z + H2O + CO2↑.",
                    "position": "inline",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "Comment on the following statements:\n(i) Bee sting is treated with baking soda paste whereas wasp sting is\ntreated with dilute vinegar.\n(ii) Farmers treat soil with quicklime when tilling.\n(iii) Ancient sculptures and marble structures are conserved by treating\nthem with certain chemicals.\"",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "29",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "Water is used by the leaves of the plants for photosynthesis but rather than\nwatering the leaves, we water the plant through the soil. How does this water\nreach the leaves of the plant?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "30",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 2,
              "content": {
                "text": "In a family of four individuals, the father possessed long ears and the mother\npossessed short ears. If the parents had pure dominant and recessive traits\nrespectively and F1 individual is married to an unrelated individual of the\nsame genotype, then calculate the ratio of genetic makeup of F2 generation.\nShow a suitable cross.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 1,
              "content": {
                "text": "If father had short ears and the mother had long ears, and both the parents\nare homozygous for the allelic pair of genes, explain what effect it will have\non the ratio of genetic makeup in F2 generation, if F1 individual is married\nto an unrelated individual of the same genotype.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "31",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "What is the fundamental difference between hypermetropia and myopia\nin terms of the optical experience of a person?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "diagram_based",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "The diagram below shows a special case of an eye defect.\n(i)\tWhat is the defect that is shown in the figure?\n(ii)\tState one cause for such a defect?\n(iii)\tExplain with reason if a concave lens can be used to correct the\ndefect.",
                "images": [
                  {
                    "description": "Diagram of eye suffering from myopia, with parallel rays of light from object focuses infront of the retina.",
                    "position": "below",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "32",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "State the relationship between the resistance R of a wire to its length I\nand cross sectional area A. Use the mathematical symbols to arrive at\nthe final formula.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "Using the formula define the resistivity of a material.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "33",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "33",
              "marks": null,
              "content": {
                "text": "Explain why the deflection of the compass needle reduced as Mona moved\naway the compass needle from the current carrying wire.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "33",
              "marks": null,
              "content": {
                "text": "Mention one thing that could have changed in the circuit of the wire that\ncould increase the deflection of the needle.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "C.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "33",
              "marks": null,
              "content": {
                "text": "Explain with reason what will be the direction of the magnetic field\nassociated with the wire for the case described by the above figure.",
                "images": [
                  {
                    "description": "Diagram of a wire carrying current and a compass needle next to wire.",
                    "position": "above",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-D",
2025-07-06 22:22:57 | ERROR    | app.core.gemini_client:extract_content:90 - Failed to extract content: Expecting ',' delimiter: line 967 column 6 (char 33791)
2025-07-06 22:22:59 | INFO     | app.core.gemini_client:extract_content:78 - Sending content extraction request to Gemini
2025-07-06 22:23:48 | INFO     | app.core.gemini_client:extract_content:85 - Received content response from Gemini
2025-07-06 22:23:48 | ERROR    | app.core.gemini_client:_parse_json_response:116 - Failed to parse JSON response: Expecting ',' delimiter: line 926 column 14 (char 33403)
2025-07-06 22:23:48 | ERROR    | app.core.gemini_client:_parse_json_response:117 - Raw response: {
  "sections": [
    {
      "name": "Section-A",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question 1 to 16 are multiple choice questions. Only one of the choices is correct. Select and write the correct choice as well as the answer to these questions.",
      "questions": [
        {
          "number": "1",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify 'p', 'q' and 'r' in the following balanced reaction\nHeat\np Pb (NO3)2(s) ------> q PbO(s) + r NO2(g) + O2(g)",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "2,2,4",
            "2,4,2",
            "2,4,4",
            "4,2,2"
          ]
        },
        {
          "number": "2",
          "type": "matching",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Match column I with column II and select the correct option using the given\ncodes.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "column_a": [
            "A metal that forms amphoteric oxides",
            "A metal which melts when kept on our palm",
            "A metal that reacts with nitric acid",
            "A metal which cannot displace hydrogen from acids"
          ],
          "column_b": [
            "(i) Ga",
            "(ii) Au",
            "(iii) Al",
            "(iv) Mn"
          ],
          "options": [
            "a – (ii), b – (i), c – (iii), d – (iv)",
            "a – (iii), b – (i), c – (iv), d – (ii)",
            "a – (iv), b – (ii), c – (iii), d - (i)",
            "a – (iii), b – (ii), c – (i), d – (iv)"
          ]
        },
        {
          "number": "3",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The solution in the given figure is likely to be",
            "images": [
              {
                "description": "Diagram showing a battery connected to a circuit with a bulb. The bulb does not glow. A beaker contains a solution and two electrodes are dipped in the solution. The circuit is connected to the electrodes. There is a question mark below the beaker.",
                "position": "above the options",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "ΗΝΟ3",
            "C2H5OH",
            "H2SO4",
            "CO2 in water"
          ]
        },
        {
          "number": "4",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "An aqueous solution 'A' turns the phenolphthalein solution pink. On addition of\nan aqueous solution 'B' to 'A', the pink colour disappears. Which of the following\nstatement is true for the solutions 'A' and 'B'.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A is strongly basic and B is a weak base.",
            "A is strongly acidic and B is a weak acid.",
            "A has a pH greater than 7 and B has a pH less than 7.",
            "A has a pH less than 7 and B has a pH greater than 7."
          ]
        },
        {
          "number": "5",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "When 50g of lead powder is added to 300 ml of blue copper sulphate\nsolution, after a few hours, the solution becomes colourless. This is an\nexample of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Combination reaction",
            "Decomposition reaction",
            "Displacement reaction",
            "Double displacement reaction"
          ]
        },
        {
          "number": "6",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "The electronic configuration of three elements X, Y and Z are X- 2, 8, 7; Y- 2,\n8, 2; and Z - 2, 8",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Y and Z are metals",
            "Y and X are non-metals",
            "X is a non-metal and Y is a metal",
            "Y is a non-metal and Z is a metal"
          ]
        },
        {
          "number": "7",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is an endothermic reaction?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Burning of candle.",
            "Cooking of food.",
            "Decomposition of Vegetable matter.",
            "Reaction of Sodium with air"
          ]
        },
        {
          "number": "8",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During cellular oxidation of Glucose, ATP is produced along with formation of\nother products in this reaction. Which of the following events is associated with\nproduction of maximum ATP molecules per molecule of Glucose during this\nprocess? Synthesis of",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "ethanol in yeast",
            "lactic acid in muscle cells",
            "carbon dioxide in yeast cells",
            "carbon dioxide in human cells"
          ]
        },
        {
          "number": "9",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "During which of the following stages of the circulation of blood in a normal\nhuman being, the oxygenated blood is pumped to all parts of the body?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "contraction of the left atrium",
            "contraction of left ventricle",
            "relaxation of the right atrium",
            "relaxation of the right ventricle"
          ]
        },
        {
          "number": "10",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following adaptations in herbivores helps in digestions of\ncellulose?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Longer large intestine",
            "Smaller large intestine",
            "Smaller small intestine",
            "Longer small intestine"
          ]
        },
        {
          "number": "11",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "There was a cerebellar dysfunction in a patient. Which of the following activities\nwill get disturbed in this patient as a result of this?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Salivation",
            "Hunger control",
            "Posture and balance",
            "Regulation of blood pressure"
          ]
        },
        {
          "number": "12",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In snails individuals can begin life as male and depending on environmental\nconditions they can become female as they grow. This is because",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "male snails have dominant genetic makeup.",
            "female snails have dominant genetic makeup.",
            "expression of sex chromosomes can change in a snail's life time.",
            "sex is not genetically determined in snails."
          ]
        },
        {
          "number": "13",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "In the following cases, a ray is incident on a concave mirror. In which case\nis the angle of incidence equal to zero?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "A ray parallel to the principal axis.",
            "A ray passing through the centre of curvature and incident obliquely.",
            "A ray passing through the principal focus and incident obliquely.",
            "A ray incident obliquely to the principal axis, at the pole of the mirror."
          ]
        },
        {
          "number": "14",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Choose the correct option for the colour of rays for A and B.",
            "images": [
              {
                "description": "Diagram showing white light passing through a glass prism. The light is dispersed into two rays labeled A and B.",
                "position": "above the options",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Blue",
            "Green",
            "Red",
            "Violet"
          ]
        },
        {
          "number": "15",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Identify the incorrect statement\n'The energy available to the producers is maximum' because:",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "It is the first trophic level which absorbs1% of light energy directly from\nthe source.",
            "It utilizes the most of the chemical energy for its own respiration, growth,\nreproduction, movement etc.",
            "It utilizes 10% of light energy and transfers the rest to the next trophic\nlevel.",
            "It transfers only 10% of light energy to the next trophic level."
          ]
        },
        {
          "number": "16",
          "type": "multiple_choice_single",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Which of the following is not a role of decomposers in the ecosystem?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Natural replenishment of soil.",
            "Enrichment of oxygen in atmosphere.",
            "Waste decomposition.",
            "Break-down of dead remains."
          ]
        },
        {
          "number": "17",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): On adding dil. HCl to a test tube containing a substance 'X', a\ncolourless gas is produced which gives a pop sound when a burning match\nstick is brought near it.\nReason (R): In this reaction metal ‘X' is displaced by Hydrogen.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "18",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): Generally, the number of chromosomes in a cell and in a germ\ncell is not the same in species.\nReason (R): When two germ cells combine, they restore the normal number of\nchromosomes in a species.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "19",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): A convex mirror always forms an image behind it and the image\nformed is virtual.\nReason (R): According to the sign convention, the focal length of a convex\nmirror is positive.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        },
        {
          "number": "20",
          "type": "assertion_reason",
          "optional": false,
          "optional_with": null,
          "marks": 1,
          "subquestions": [],
          "content": {
            "text": "Assertion (A): If the lions are removed from a food chain it will not affect the\nfood chain, however if the plants are removed from a food chain it will disturb\nthe ecosystem.\nReason (R): Plants are producers who can make food using sunlight, while\nlions are consumers.",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          },
          "options": [
            "Both A and R are true, and R is the correct explanation of A.",
            "Both A and R are true, and R is not the correct explanation of A.",
            "A is true but R is false.",
            "A is false but R is true"
          ]
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-B",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 21 to 26 are very short answer questions",
      "questions": [
        {
          "number": "21",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Identify the type of each of the following reactions stating the reason for your\nanswers.\nA. Fe2O3 + 2AI → Al2O3 + 2Fe + heat\nB. Pb (NO3)2 + 2KI → PbI2(↓)+ 2KNO3",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "22",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "Differentiate between alveoli and nephron on the basis of the following points:",
            "images": [],
            "diagrams": [],
            "tables": [
              {
                "S. No.": "1",
                "Feature": "Structure and location",
                "Alveoli": null,
                "Nephron": null
              },
              {
                "S. No.": "2",
                "Feature": "Function",
                "Alveoli": null,
                "Nephron": null
              }
            ],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "23",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "List the steps for the synthesis of glucose by the plants. What special\nfeature is found in desert plants related to this process?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B",
              "type": "short_answer",
              "optional": false,
              "optional_group": "23",
              "marks": null,
              "content": {
                "text": "Explain the role of the following enzymes in the process of digestion of food\nin humans:\n(i) Salivary amylase\n(ii) Pepsin\n(iii) Trypsin\n(iv) Lipase",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "24",
          "type": "diagram_based",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The above figure shows the formation of an image by a lens shown by a thick\nline.",
            "images": [
              {
                "description": "A diagram showing a thick lens with light rays passing through it and forming an image.",
                "position": "above the content",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "25",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 2,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "Analyse the figure and answer the following questions.\nA. What is the type of lens used?\nB. What is the nature of the image?\nC. If the image is formed at a distance of 30 cm from the lens and the\nimage is twice the size of the object, then where is the object placed?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "25",
              "marks": null,
              "content": {
                "text": "The above figure shows two resistors X and Y connected in series to a\nbattery. The power dissipated for this combination is P1. When these resistors",
                "images": [
                  {
                    "description": "Diagram of resistors X and Y connected in series with resistances R and 2R respectively.",
                    "position": "above the content",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "26",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 2,
          "subquestions": [],
          "content": {
            "text": "The cartoon below addresses a growing concern:\nWhat impact will the process shown in the image have on Humans if they\noccupy the last trophic level? Explain.",
            "images": [
              {
                "description": "A cartoon depicting a field with pesticides sprayed on one side, and the other side showing healthy growth. The pesticide side shows negative impacts on the environment.",
                "position": "above the content",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        }
      ],
      "total_marks": null,
      "time_allocation": null
    },
    {
      "name": "Section-C",
      "optional_between": false,
      "optional_with": null,
      "instruction": "Question No. 27 to 33 are short answer questions",
      "questions": [
        {
          "number": "27",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "A. Anirudh took two metal oxides; aluminium oxide and magnesium oxide as\nshown in the pictures given below. But he forgot to label them. How will\nyou guide/ help Anirudh to identify the oxides and label them?",
            "images": [
              {
                "description": "Two images showing different metal oxides. One is a white powder, and the other is a fluffy white substance.",
                "position": "above the content",
                "alt_text": null
              }
            ],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "28",
          "type": "short_answer",
          "optional": true,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "(i) In the given series of reactions, name the compounds X and Z.\n(ii) Which type of reaction is X to Z?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "28",
              "marks": null,
              "content": {
                "text": "Comment on the following statements:\n(i) Bee sting is treated with baking soda paste whereas wasp sting is\ntreated with dilute vinegar.\n(ii) Farmers treat soil with quicklime when tilling.\n(iii) Ancient sculptures and marble structures are conserved by treating\nthem with certain chemicals.\"",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "29",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [],
          "content": {
            "text": "Water is used by the leaves of the plants for photosynthesis but rather than\nwatering the leaves, we water the plant through the soil. How does this water\nreach the leaves of the plant?",
            "images": [],
            "diagrams": [],
            "tables": [],
            "formulas": [],
            "code_snippets": [],
            "additional_context": null
          }
        },
        {
          "number": "30",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 2,
              "content": {
                "text": "In a family of four individuals, the father possessed long ears and the mother\npossessed short ears. If the parents had pure dominant and recessive traits\nrespectively and F1 individual is married to an unrelated individual of the\nsame genotype, then calculate the ratio of genetic makeup of F2 generation.\nShow a suitable cross.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "30",
              "marks": 1,
              "content": {
                "text": "If father had short ears and the mother had long ears, and both the parents\nare homozygous for the allelic pair of genes, explain what effect it will have\non the ratio of genetic makeup in F2 generation, if F1 individual is married\nto an unrelated individual of the same genotype.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "31",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "What is the fundamental difference between hypermetropia and myopia\nin terms of the optical experience of a person?",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "diagram_based",
              "optional": false,
              "optional_group": "31",
              "marks": null,
              "content": {
                "text": "The diagram below shows a special case of an eye defect.\n(i) What is the defect that is shown in the figure?\n(ii) State one cause for such a defect?\n(iii) Explain with reason if a concave lens can be used to correct the\ndefect.",
                "images": [
                  {
                    "description": "A diagram illustrating an eye defect with labels N and N'. The incoming light rays converge before reaching the retina.",
                    "position": "above the content",
                    "alt_text": null
                  }
                ],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "32",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "State the relationship between the resistance R of a wire to its length I\nand cross sectional area A. Use the mathematical symbols to arrive at\nthe final formula.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "32",
              "marks": null,
              "content": {
                "text": "Using the formula define the resistivity of a material.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            }
          ]
        },
        {
          "number": "33",
          "type": "short_answer",
          "optional": false,
          "optional_with": null,
          "marks": 3,
          "subquestions": [
            {
              "label": "A.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "33",
              "marks": null,
              "content": {
                "text": "Explain why the deflection of the compass needle reduced as Mona moved\naway the compass needle from the current carrying wire.",
                "images": [],
                "diagrams": [],
                "tables": [],
                "formulas": [],
                "code_snippets": [],
                "additional_context": null
              }
            },
            {
              "label": "B.",
              "type": "short_answer",
              "optional": false,
              "optional_group": "33
2025-07-06 22:23:48 | ERROR    | app.core.gemini_client:extract_content:90 - Failed to extract content: Expecting ',' delimiter: line 926 column 14 (char 33403)
2025-07-06 22:23:48 | ERROR    | app.services.pdf_analyzer:analyze_question_paper_with_content:127 - Enhanced analysis failed: RetryError[<Future at 0x190b3b12210 state=finished raised JSONDecodeError>]
2025-07-06 22:23:48 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:141 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_r2wuehxf.pdf
2025-07-06 22:23:48 | ERROR    | app.api.endpoints:analyze_question_paper_enhanced:101 - Enhanced analysis failed: RetryError[<Future at 0x190b3b12210 state=finished raised JSONDecodeError>]
2025-07-06 22:34:50 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 22:34:55 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:34:55 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:34:55 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:34:55 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 22:34:55 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:34:55 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 22:35:13 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 22:35:17 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:35:17 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:35:17 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:35:17 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 22:35:17 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:35:17 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 22:35:33 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:91 - Received file for enhanced analysis: class 10 scinece.pdf (918043 bytes)
2025-07-06 22:35:33 | INFO     | app.services.pdf_analyzer:_validate_file:153 - File validation passed: class 10 scinece.pdf
2025-07-06 22:35:33 | INFO     | app.services.pdf_analyzer:_save_temp_file:166 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_r_4ewo8a.pdf (918043 bytes)
2025-07-06 22:35:33 | INFO     | app.core.gemini_client:upload_file:24 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_r_4ewo8a.pdf
2025-07-06 22:35:43 | INFO     | app.core.gemini_client:upload_file:37 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/qn1ls8wkak4u
2025-07-06 22:35:43 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-06 22:35:43 | ERROR    | app.core.gemini_client:analyze_structure:97 - Failed to analyze structure: unhashable type: 'list'
2025-07-06 22:35:45 | ERROR    | app.core.gemini_client:analyze_structure:97 - Failed to analyze structure: unhashable type: 'list'
2025-07-06 22:35:47 | ERROR    | app.core.gemini_client:analyze_structure:97 - Failed to analyze structure: unhashable type: 'list'
2025-07-06 22:35:47 | ERROR    | app.services.pdf_analyzer:analyze_question_paper_with_content:127 - Enhanced analysis failed: RetryError[<Future at 0x22ffedda750 state=finished raised TypeError>]
2025-07-06 22:35:47 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:141 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_r_4ewo8a.pdf
2025-07-06 22:35:47 | ERROR    | app.api.endpoints:analyze_question_paper_enhanced:101 - Enhanced analysis failed: RetryError[<Future at 0x22ffedda750 state=finished raised TypeError>]
2025-07-06 22:37:44 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 22:37:51 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:37:51 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:37:51 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:37:51 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 22:37:51 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:37:51 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 22:38:41 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 22:38:44 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:38:44 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:38:44 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:38:44 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 22:38:44 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:38:44 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 22:38:58 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:91 - Received file for enhanced analysis: class 10 scinece.pdf (918043 bytes)
2025-07-06 22:38:58 | INFO     | app.services.pdf_analyzer:_validate_file:153 - File validation passed: class 10 scinece.pdf
2025-07-06 22:38:58 | INFO     | app.services.pdf_analyzer:_save_temp_file:166 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_nx109c_1.pdf (918043 bytes)
2025-07-06 22:38:58 | INFO     | app.core.gemini_client:upload_file:23 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_nx109c_1.pdf
2025-07-06 22:39:07 | INFO     | app.core.gemini_client:upload_file:36 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/k1cxspy6mocp
2025-07-06 22:39:07 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-06 22:39:07 | INFO     | app.core.gemini_client:analyze_structure:60 - Sending structure analysis request to Gemini
2025-07-06 22:40:38 | INFO     | app.core.gemini_client:analyze_structure:67 - Received structure response from Gemini
2025-07-06 22:40:38 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 90.74s
2025-07-06 22:40:38 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-06 22:40:38 | INFO     | app.core.gemini_client:extract_content:91 - Sending content extraction request to Gemini
2025-07-06 22:44:26 | INFO     | app.core.gemini_client:extract_content:98 - Received content response from Gemini
2025-07-06 22:44:26 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 228.13s
2025-07-06 22:44:26 | ERROR    | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:222 - Failed to validate enhanced response: 42 validation errors for EnhancedQuestionPaperStructure
sections.0.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Column I', ...rom acids', '(iv) Mn']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "An elect...on-conducting solution'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra... light through a prism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Option', 'C...', 'Violet', 'Indigo']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': "Assertion ...displaced by Hydrogen."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...omosomes in a species.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...ex mirror is positive.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...e lions are consumers.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['S. No.', 'F...', 'Function', '', '']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...ated to this process?'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...': {'text': 'Lipase'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.3.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A ray di...ation by a convex lens'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...urrent in heater Y.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... 'formulas': ['P1/P2']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.5.content.images.0.position
  Field required [type=missing, input_value={'description': "A two-pa...574) (frontiersin.org)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.content
  Field required [type=missing, input_value={'number': '27', 'type': ... with nitric acid.'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.subquestions.0.content.images.0.position
  Field required [type=missing, input_value={'description': 'Two phot...Two white metal oxides'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.content
  Field required [type=missing, input_value={'number': '28', 'type': ...ertain chemicals.'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's... ion concentration.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's... certain chemicals.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.3.content
  Field required [type=missing, input_value={'number': '30', 'type': ... the same genotype.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.content
  Field required [type=missing, input_value={'number': '31', 'type': ... in the human eye?'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.subquestions.1.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra...': 'Eye defect diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.5.content
  Field required [type=missing, input_value={'number': '32', 'type': ...vity of a material.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.6.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A simple... current-carrying wire'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...nd air is not used?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...me of this process?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...o its parent plant?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd...mination misused?'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...ue of resistance R1'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... the resistance R1.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A flowch...cal Reaction Flowchart'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.1.content.images.0.position
  Field required [type=missing, input_value={'description': "A color ...'label': 'Phototropism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.1.content.images.1.position
  Field required [type=missing, input_value={'description': "Two colo... 'label': 'Thigmonasty'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A ray di...ting Telescope Diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
summary.total_subquestions
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
summary.optional_structures
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-06 22:44:26 | ERROR    | app.services.pdf_analyzer:analyze_question_paper_with_content:127 - Enhanced analysis failed: Invalid enhanced response structure: 42 validation errors for EnhancedQuestionPaperStructure
sections.0.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Column I', ...rom acids', '(iv) Mn']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "An elect...on-conducting solution'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra... light through a prism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Option', 'C...', 'Violet', 'Indigo']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': "Assertion ...displaced by Hydrogen."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...omosomes in a species.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...ex mirror is positive.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...e lions are consumers.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['S. No.', 'F...', 'Function', '', '']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...ated to this process?'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...': {'text': 'Lipase'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.3.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A ray di...ation by a convex lens'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...urrent in heater Y.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... 'formulas': ['P1/P2']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.5.content.images.0.position
  Field required [type=missing, input_value={'description': "A two-pa...574) (frontiersin.org)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.content
  Field required [type=missing, input_value={'number': '27', 'type': ... with nitric acid.'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.subquestions.0.content.images.0.position
  Field required [type=missing, input_value={'description': 'Two phot...Two white metal oxides'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.content
  Field required [type=missing, input_value={'number': '28', 'type': ...ertain chemicals.'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's... ion concentration.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's... certain chemicals.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.3.content
  Field required [type=missing, input_value={'number': '30', 'type': ... the same genotype.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.content
  Field required [type=missing, input_value={'number': '31', 'type': ... in the human eye?'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.subquestions.1.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra...': 'Eye defect diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.5.content
  Field required [type=missing, input_value={'number': '32', 'type': ...vity of a material.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.6.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A simple... current-carrying wire'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...nd air is not used?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...me of this process?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...o its parent plant?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd...mination misused?'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...ue of resistance R1'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... the resistance R1.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A flowch...cal Reaction Flowchart'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.1.content.images.0.position
  Field required [type=missing, input_value={'description': "A color ...'label': 'Phototropism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.1.content.images.1.position
  Field required [type=missing, input_value={'description': "Two colo... 'label': 'Thigmonasty'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A ray di...ting Telescope Diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
summary.total_subquestions
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
summary.optional_structures
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-06 22:44:26 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:141 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_nx109c_1.pdf
2025-07-06 22:44:26 | ERROR    | app.api.endpoints:analyze_question_paper_enhanced:101 - Enhanced analysis failed: Invalid enhanced response structure: 42 validation errors for EnhancedQuestionPaperStructure
sections.0.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Column I', ...rom acids', '(iv) Mn']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "An elect...on-conducting solution'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra... light through a prism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.13.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['Option', 'C...', 'Violet', 'Indigo']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.16.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': "Assertion ...displaced by Hydrogen."}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.17.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...omosomes in a species.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.18.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...ex mirror is positive.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.0.questions.19.content.additional_context
  Input should be a valid string [type=string_type, input_value={'assertion': 'Assertion ...e lions are consumers.'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.1.content.tables.0
  Input should be a valid string [type=string_type, input_value={'headers': ['S. No.', 'F...', 'Function', '', '']]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...ated to this process?'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...': {'text': 'Lipase'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.3.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A ray di...ation by a convex lens'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...urrent in heater Y.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.4.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... 'formulas': ['P1/P2']}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.1.questions.5.content.images.0.position
  Field required [type=missing, input_value={'description': "A two-pa...574) (frontiersin.org)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.content
  Field required [type=missing, input_value={'number': '27', 'type': ... with nitric acid.'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.0.subquestions.0.content.images.0.position
  Field required [type=missing, input_value={'description': 'Two phot...Two white metal oxides'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.content
  Field required [type=missing, input_value={'number': '28', 'type': ...ertain chemicals.'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's... ion concentration.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's... certain chemicals.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.3.content
  Field required [type=missing, input_value={'number': '30', 'type': ... the same genotype.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.content
  Field required [type=missing, input_value={'number': '31', 'type': ... in the human eye?'}}]}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.4.subquestions.1.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A diagra...': 'Eye defect diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.2.questions.5.content
  Field required [type=missing, input_value={'number': '32', 'type': ...vity of a material.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.2.questions.6.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A simple... current-carrying wire'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 's...nd air is not used?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.0.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 's...me of this process?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...o its parent plant?'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.1.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd...mination misused?'}}]}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.0
  Input should be a valid string [type=string_type, input_value={'label': 'A', 'type': 'd...ue of resistance R1'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.3.questions.2.options.1
  Input should be a valid string [type=string_type, input_value={'label': 'B', 'type': 'd... the resistance R1.'}}]}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.text
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.0.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': 'A flowch...cal Reaction Flowchart'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
sections.4.questions.1.content.images.0.position
  Field required [type=missing, input_value={'description': "A color ...'label': 'Phototropism'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.1.content.images.1.position
  Field required [type=missing, input_value={'description': "Two colo... 'label': 'Thigmonasty'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
sections.4.questions.2.content.diagrams.0
  Input should be a valid string [type=string_type, input_value={'description': "A ray di...ting Telescope Diagram'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
summary.total_subquestions
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
summary.optional_structures
  Field required [type=missing, input_value={'total_sections': 5, 'to...am_duration': '3 hours'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-06 22:48:04 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 22:48:09 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 22:48:09 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 22:48:09 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 22:48:09 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 22:48:09 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 22:48:09 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:08:01 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:08:04 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:08:16 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:08:16 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:08:16 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:08:16 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:08:16 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:08:16 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:08:44 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:08:58 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:08:58 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:08:58 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:08:58 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:08:58 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:08:58 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:08:58 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:09:01 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:09:01 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:09:01 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:09:01 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:09:01 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:09:01 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:09:21 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:09:38 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:09:38 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:09:38 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:09:38 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:09:38 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:09:38 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:10:04 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:10:08 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:10:08 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:10:08 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:10:08 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:10:08 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:10:08 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:12:13 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:12:17 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:12:17 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:12:17 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:12:17 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:12:17 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:12:17 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:12:19 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:12:22 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:12:23 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:12:23 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:12:23 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:12:23 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:12:23 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:12:45 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:12:48 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:12:48 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:12:48 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:12:48 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:12:48 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:12:48 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:12:55 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-06 23:12:58 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-06 23:12:58 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-06 23:12:58 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-06 23:12:58 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-06 23:12:58 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-06 23:12:58 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-06 23:13:45 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:76 - Received file for enhanced analysis: class 10 scinece.pdf
2025-07-06 23:13:45 | INFO     | app.services.pdf_analyzer:_validate_file:193 - File validation passed: class 10 scinece.pdf
2025-07-06 23:13:45 | INFO     | app.services.pdf_analyzer:_save_temp_file:206 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_o04dm9f0.pdf (918043 bytes)
2025-07-06 23:13:45 | INFO     | app.core.gemini_client:upload_file:27 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_o04dm9f0.pdf
2025-07-06 23:14:00 | INFO     | app.core.gemini_client:upload_file:40 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/7g788ariduvl
2025-07-06 23:14:00 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-06 23:14:00 | INFO     | app.core.gemini_client:analyze_structure:55 - Sending structure analysis request to Gemini
2025-07-06 23:15:31 | INFO     | app.core.gemini_client:analyze_structure:62 - Received structure response from Gemini
2025-07-06 23:15:31 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-06 23:15:31 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 90.54s
2025-07-06 23:15:31 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-06 23:15:31 | INFO     | app.core.gemini_client:extract_content:79 - Sending content extraction request to Gemini
2025-07-06 23:19:03 | INFO     | app.core.gemini_client:extract_content:86 - Received content response from Gemini
2025-07-06 23:19:03 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-06 23:19:03 | INFO     | app.core.gemini_client:_post_process_content_response:102 - Post-processing content response...
2025-07-06 23:19:03 | INFO     | app.core.gemini_client:_post_process_content_response:144 - Content response post-processing completed
2025-07-06 23:19:03 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 212.10s
2025-07-06 23:19:03 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:149 - Preprocessing Gemini response for validation...
2025-07-06 23:19:03 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:176 - Gemini response preprocessing completed
2025-07-06 23:19:03 | INFO     | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:258 - Successfully structured enhanced response with 6 sections
2025-07-06 23:19:03 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:144 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_o04dm9f0.pdf
2025-07-06 23:19:03 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:87 - Enhanced analysis completed successfully in 317.95s (structure: 90.54s, content: 212.10s)
2025-07-07 00:27:04 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:27:11 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:27:11 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:27:11 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:27:11 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:27:11 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:27:11 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:30:33 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:30:38 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:30:38 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:30:38 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:30:38 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:30:38 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:30:38 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:30:41 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:30:46 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:30:46 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:30:46 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:30:46 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:30:46 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:30:46 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:31:02 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:31:07 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:31:07 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:31:07 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:31:07 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:31:07 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:31:07 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:31:27 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:31:32 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:31:32 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:31:32 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:31:32 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:31:32 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:31:32 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:31:34 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:31:39 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:31:39 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:31:39 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:31:39 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:31:39 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:31:39 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:32:10 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:32:14 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:32:14 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:32:14 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:32:14 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:32:14 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:32:14 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:32:19 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:32:24 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:32:24 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:32:24 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:32:24 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:32:24 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:32:24 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:33:01 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:33:05 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:33:05 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:33:05 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:33:05 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:33:05 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:33:05 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:33:36 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:33:40 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:33:40 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:33:40 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:33:40 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:33:40 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:33:40 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:33:43 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:33:48 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:33:48 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:33:48 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:33:48 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:33:48 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:33:48 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:33:48 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:33:52 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:33:52 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:33:52 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:33:52 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:33:52 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:33:52 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:34:44 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:34:49 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:34:49 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:34:49 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:34:49 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:34:49 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:34:49 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:34:49 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:34:53 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:34:53 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:34:53 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:34:53 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:34:53 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:34:53 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:17 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:21 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:21 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:21 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:21 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:21 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:21 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:26 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:26 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:26 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:26 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:26 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:26 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:26 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:30 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:30 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:30 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:30 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:30 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:30 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:33 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:38 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:38 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:38 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:38 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:38 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:38 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:38 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:42 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:42 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:42 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:42 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:42 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:42 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:36:42 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:36:46 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:36:46 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:36:46 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:36:46 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:36:46 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:36:46 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:49:48 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:49:53 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:49:53 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:49:53 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:49:53 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:49:53 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:49:53 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:50:56 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:51:00 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:51:00 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:51:00 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:51:00 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:51:00 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:51:00 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:51:19 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:51:24 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:51:24 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:51:24 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:51:24 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:51:24 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:51:24 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:51:36 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:51:40 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:51:41 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:51:41 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:51:41 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:51:41 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:51:41 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:51:50 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:51:55 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:51:55 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:51:55 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:51:55 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:51:55 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:51:55 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:52:07 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:52:11 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:52:11 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:52:11 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:52:11 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:52:11 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:52:11 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:52:24 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:52:29 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:52:29 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:52:29 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:52:29 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:52:29 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:52:29 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:52:38 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:52:43 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:52:43 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:52:43 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:52:43 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:52:43 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:52:43 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:53:56 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:54:00 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:54:00 | INFO     | app.main:startup_event:69 - Starting Question Paper Analyzer v2.0.0
2025-07-07 00:54:00 | INFO     | app.main:startup_event:70 - Max file size: 20MB
2025-07-07 00:54:00 | INFO     | app.main:startup_event:71 - Gemini model: gemini-2.5-pro
2025-07-07 00:54:00 | INFO     | app.main:startup_event:72 - Enhanced extraction enabled: True
2025-07-07 00:54:00 | INFO     | app.main:startup_event:81 - Loaded 44 question types
2025-07-07 00:54:01 | INFO     | app.main:shutdown_event:86 - Shutting down Question Paper Analyzer
2025-07-07 00:54:05 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:55:56 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 00:56:18 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:07:14 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:07:46 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:08:05 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:09:14 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:09:19 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:09:24 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:09:44 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:09:48 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:10:04 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:10:04 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:10:04 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:10:04 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:10:04 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:10:04 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:10:04 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:10:04 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:10:04 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:10:04 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:10:04 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 01:10:08 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:10:08 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:10:08 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:10:08 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:10:08 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:10:08 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:10:08 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:10:08 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:10:08 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:10:08 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:14:53 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:79 - Received file for enhanced analysis: class 10 scinece.pdf
2025-07-07 01:14:53 | INFO     | app.services.pdf_analyzer:_validate_file:193 - File validation passed: class 10 scinece.pdf
2025-07-07 01:14:53 | INFO     | app.services.pdf_analyzer:_save_temp_file:206 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_ggw0joz7.pdf (918043 bytes)
2025-07-07 01:14:53 | INFO     | app.core.gemini_client:upload_file:27 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_ggw0joz7.pdf
2025-07-07 01:15:01 | INFO     | app.core.gemini_client:upload_file:40 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/l32du9scyjuz
2025-07-07 01:15:01 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-07 01:15:01 | INFO     | app.core.gemini_client:analyze_structure:55 - Sending structure analysis request to Gemini
2025-07-07 01:16:32 | INFO     | app.core.gemini_client:analyze_structure:62 - Received structure response from Gemini
2025-07-07 01:16:32 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-07 01:16:32 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 90.91s
2025-07-07 01:16:32 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-07 01:16:32 | INFO     | app.core.gemini_client:extract_content:79 - Sending content extraction request to Gemini
2025-07-07 01:19:26 | INFO     | app.core.gemini_client:extract_content:86 - Received content response from Gemini
2025-07-07 01:19:26 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-07 01:19:26 | INFO     | app.core.gemini_client:_post_process_content_response:102 - Post-processing content response...
2025-07-07 01:19:26 | INFO     | app.core.gemini_client:_post_process_content_response:144 - Content response post-processing completed
2025-07-07 01:19:26 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 173.96s
2025-07-07 01:19:26 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:149 - Preprocessing Gemini response for validation...
2025-07-07 01:19:26 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:176 - Gemini response preprocessing completed
2025-07-07 01:19:26 | WARNING  | app.services.pdf_analyzer:_validate_question_types_in_enhanced_response:303 - Found invalid question types in enhanced response: {'long_answer'}
2025-07-07 01:19:26 | INFO     | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:258 - Successfully structured enhanced response with 5 sections
2025-07-07 01:19:26 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:144 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_ggw0joz7.pdf
2025-07-07 01:19:26 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:90 - Enhanced analysis completed successfully in 273.35s (structure: 90.91s, content: 173.96s)
2025-07-07 01:25:49 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 01:31:38 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:31:38 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 01:31:38 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 0 sections from enhanced response
2025-07-07 01:31:38 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 0 questions/subquestions
2025-07-07 01:31:38 | INFO     | app.services.question_parser:validate_questions:117 - Validated 0 out of 0 questions
2025-07-07 01:33:06 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:33:06 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 5 sections from enhanced response
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 20 questions in section Section-A
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 6 questions in section Section-B
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 7 questions in section Section-C
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section-D
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section - E
2025-07-07 01:33:06 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 91 questions/subquestions
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 3For Visual Impaired Students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 21A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 21B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 23 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 23A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 23B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 24A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 24B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 24C - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 24For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 25 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 25A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 25B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 25For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 26For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 27 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 27A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 27B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 27For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 28 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 28A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 28B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 30 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 30A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 30B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 31 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 31A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 31B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 31For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 32 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 32A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 32B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 33A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 33B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 33C - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 33For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 34 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 34A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 34B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 35 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 35A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 35For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 35B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 35For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 36 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 36A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 36B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 36For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:104 - Skipping question 37 - no content text
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 37A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 37B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 37C - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 37For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 38A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 38B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 38C - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 38D - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 38For visually impaired students - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 39A - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 39B - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 39C - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 39D - no marks allocated
2025-07-07 01:33:06 | WARNING  | app.services.question_parser:validate_questions:108 - Skipping question 39For visually impaired students - no marks allocated
2025-07-07 01:33:06 | INFO     | app.services.question_parser:validate_questions:117 - Validated 28 out of 91 questions
2025-07-07 01:33:06 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 28 questions
2025-07-07 01:33:06 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 28 questions with 4 workers
2025-07-07 01:33:06 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 01:33:06 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:33:21 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 2
2025-07-07 01:33:21 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:33:32 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 3
2025-07-07 01:33:32 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3
2025-07-07 01:33:46 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 4
2025-07-07 01:33:46 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 4
2025-07-07 01:34:07 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 1
2025-07-07 01:34:47 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 1
2025-07-07 01:35:08 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 2
2025-07-07 01:35:40 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 2
2025-07-07 01:36:04 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 3
2025-07-07 01:36:44 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 3
2025-07-07 01:36:59 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 4
2025-07-07 01:37:35 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 4
2025-07-07 01:37:58 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_0 completed question 1 in 292.24s
2025-07-07 01:37:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 2: 1 validation error for AnswerKey
mark_distribution_guide.guidance
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Award 1 mark for selecti...ttempting the question.', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/float_parsing
2025-07-07 01:37:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_2 failed to process question 3: 1 validation error for AnswerKey
mark_distribution_guide.Criteria
  Input should be a valid number, unable to parse string as a number [type=float_parsing, input_value='Award 1 mark for correct...dentification question.', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/float_parsing
2025-07-07 01:37:58 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_3 completed question 4 in 252.62s
2025-07-07 01:37:58 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 5
2025-07-07 01:37:58 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 5
2025-07-07 01:38:14 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Comprehension', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:38:14 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 6
2025-07-07 01:38:14 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 6
2025-07-07 01:38:33 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Application', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:38:33 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 7
2025-07-07 01:38:33 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 7
2025-07-07 01:38:48 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 8
2025-07-07 01:38:48 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 8
2025-07-07 01:39:00 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 7
2025-07-07 01:39:38 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 7
2025-07-07 01:39:54 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 8
2025-07-07 01:40:31 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 8
2025-07-07 01:40:50 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 5
2025-07-07 01:41:06 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Application', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:41:06 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 6
2025-07-07 01:41:42 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:41:42 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:41:42 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:41:42 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:41:42 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:41:42 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:41:42 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:41:42 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:41:42 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:41:42 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:47:28 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:47:28 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:47:28 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:47:28 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:47:28 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:47:28 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:47:28 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:47:28 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:47:28 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:47:28 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:48:10 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 01:48:13 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:48:13 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:48:13 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:48:13 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:48:13 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:48:13 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:48:13 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:48:13 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:48:13 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:48:13 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:48:46 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 01:48:47 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:48:47 | ERROR    | app.services.websocket_handler:handle_rubric_generation:135 - Error in rubric generation: 1 validation error for RubricGenerationRequest
user_preferences.quality_mode
  Input should be 'high' or 'fast' [type=literal_error, input_value='balanced', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:49:36 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:49:36 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 01:49:36 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 01:49:36 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 01:49:36 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 01:49:36 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 01:49:36 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 01:49:36 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 14 questions
2025-07-07 01:49:36 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 14 questions with 4 workers
2025-07-07 01:49:36 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 01:49:36 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:49:49 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Analysis', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:49:49 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 1(a)
2025-07-07 01:49:49 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(a)
2025-07-07 01:49:59 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Knowledge', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:49:59 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 1(b)
2025-07-07 01:49:59 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(b)
2025-07-07 01:50:16 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Analysis', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:50:16 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 2
2025-07-07 01:50:16 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:50:32 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 2
2025-07-07 01:51:16 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:51:16 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:51:16 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:51:16 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:51:16 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:51:16 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:51:16 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:51:16 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:51:16 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:51:16 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:51:16 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 01:51:18 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:64 - WebSocket client disconnected
2025-07-07 01:51:18 | INFO     | app.services.websocket_handler:disconnect:31 - WebSocket disconnected. Total connections: 0
2025-07-07 01:51:19 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 01:51:55 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:51:55 | ERROR    | app.services.websocket_handler:handle_rubric_generation:135 - Error in rubric generation: 1 validation error for RubricGenerationRequest
user_preferences.rubric_standard
  Input should be 'bloom_taxonomy' or 'basic' [type=literal_error, input_value='knowledge', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:52:25 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:52:25 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 01:52:25 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 01:52:25 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 01:52:25 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 01:52:25 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 01:52:25 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 01:52:25 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 14 questions
2025-07-07 01:52:25 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 14 questions with 4 workers
2025-07-07 01:52:25 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 01:52:25 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:52:39 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Analysis', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:52:39 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 1(a)
2025-07-07 01:52:39 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(a)
2025-07-07 01:52:52 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
bloom_level
  Input should be 'knowledge', 'comprehension', 'application', 'analysis', 'synthesis' or 'evaluation' [type=literal_error, input_value='Knowledge', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 01:52:52 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 1(b)
2025-07-07 01:52:52 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(b)
2025-07-07 01:53:08 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 2
2025-07-07 01:53:08 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:53:20 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 1(b)
2025-07-07 01:53:59 | ERROR    | app.core.rubric_gemini_client:_parse_json_response:323 - Failed to parse JSON response: Unterminated string starting at: line 118 column 7 (char 6264)
2025-07-07 01:53:59 | ERROR    | app.core.rubric_gemini_client:_parse_json_response:324 - Raw response: {
  "type": "detailed_analytical",
  "standard": "bloom_taxonomy",
  "criteria": [
    {
      "criterion": "Accuracy and Comprehensiveness of Content",
      "weight": 50,
      "marks": 5,
      "performance_levels": [
        {
          "level": "Excellent",
          "marks_range": "4.5-5.0",
          "descriptor": "Demonstrates a thorough and accurate understanding of all key stages of the light reactions and the specific role of chlorophyll.",
          "indicators": [
            "Correctly identifies all key inputs (light, H₂O, ADP, NADP⁺) and outputs (O₂, ATP, NADPH).",
            "Accurately describes the roles and sequence of both Photosystem II and Photosystem I.",
            "Details the process of photolysis of water and the creation of a proton gradient for chemiosmosis.",
            "Clearly explains chlorophyll's function in absorbing light energy and donating excited electrons to the electron transport chain.",
            "Correctly identifies the location as the thylakoid membrane."
          ]
        },
        {
          "level": "Proficient",
          "marks_range": "3.75-4.4",
          "descriptor": "Demonstrates a good understanding of the main stages of the light reactions and the role of chlorophyll, with minor omissions or inaccuracies.",
          "indicators": [
            "Identifies most key inputs and outputs, with maybe one omission.",
            "Describes the general flow through the photosystems but may have minor errors in sequence or detail.",
            "Mentions photolysis and the proton gradient but may lack detail on their purpose.",
            "Correctly explains the primary role of chlorophyll in light absorption."
          ]
        },
        {
          "level": "Developing",
          "marks_range": "3.0-3.7",
          "descriptor": "Demonstrates a partial understanding of the light reactions, with significant omissions or several inaccuracies.",
          "indicators": [
            "Identifies some inputs and outputs (e.g., mentions light and oxygen but not ATP/NADPH).",
            "Provides a vague or confused description of the process, such as mentioning an electron transport chain without its purpose.",
            "Omits key processes like photolysis or the role of the proton gradient.",
            "States that chlorophyll absorbs light but provides no further detail on its role."
          ]
        },
        {
          "level": "Beginning",
          "marks_range": "0-2.9",
          "descriptor": "Demonstrates a minimal or fundamentally incorrect understanding of the light reactions.",
          "indicators": [
            "Fails to identify key inputs or outputs correctly.",
            "Description of the process is absent, illogical, or conflated with the Calvin cycle.",
            "Does not explain the role of chlorophyll or provides an incorrect explanation.",
            "Shows little to no understanding of the topic."
          ]
        }
      ]
    },
    {
      "criterion": "Clarity of Explanation and Use of Terminology",
      "weight": 50,
      "marks": 5,
      "performance_levels": [
        {
          "level": "Excellent",
          "marks_range": "4.5-5.0",
          "descriptor": "Explanation is exceptionally clear, logical, and well-structured. Uses precise scientific terminology throughout.",
          "indicators": [
            "Logically sequences the events from light absorption to the production of ATP and NADPH.",
            "Clearly links cause and effect (e.g., light energy excites electrons, which drives proton pumping, which creates a gradient for ATP synthesis).",
            "Consistently uses correct terms like 'thylakoid membrane', 'photosystem', 'electron transport chain', 'photolysis', 'chemiosmosis', and 'NADP⁺ reductase'."
          ]
        },
        {
          "level": "Proficient",
          "marks_range": "3.75-4.4",
          "descriptor": "Explanation is generally clear and organized. Uses scientific terminology correctly for the most part.",
          "indicators": [
            "Presents the steps in a mostly logical order.",
            "Connections between steps are present but may not be fully elaborated.",
            "Uses key terms like 'photosystem' and 'electron transport chain' correctly, with only minor slips or use of less precise language."
          ]
        },
        {
          "level": "Developing",
          "marks_range": "3.0-3.7",
          "descriptor": "Explanation is somewhat unclear, disorganized, or difficult to follow. Use of scientific terminology is inconsistent or often incorrect.",
          "indicators": [
            "The sequence of events is jumbled or key steps are missing, making the process hard to understand.",
            "Fails to link concepts effectively.",
            "Uses general terms (e.g., 'energy molecules') instead of specific scientific ones (ATP, NADPH) or uses terms incorrectly."
          ]
        },
        {
          "level": "Beginning",
          "marks_range": "0-2.9",
          "descriptor": "Explanation is absent, incoherent, or completely illogical. Lacks appropriate scientific terminology.",
          "indicators": [
            "No logical structure to the answer.",
            "Consists of isolated, disconnected facts or statements.",
            "Uses everyday language or completely incorrect scientific terms.",
            "The response is very difficult to understand."
          ]
        }
      ]
    }
  ],
  "marking_scheme": {
    "total_marks": 10,
    "mark_distribution": {
      "Accuracy and Comprehensiveness of Content": 5,
      "Clarity of Explanation and Use of Terminology": 5
    }
  },
  "partial_marking_guidelines": {
    "minimum_pass_criteria": "To achieve a passing score ('Developing' level), the student must correctly identify that light energy and water are inputs, oxygen is an output, and that chlorophyll's primary role is to absorb light energy.",
    "partial_credit_rules": [
      "Credit can be given for correctly identifying inputs/outputs even if the process is explained poorly.",
      "Credit can be given for explaining the role of chlorophyll, even if the rest of the light reactions are omitted or incorrect.",
      "If the answer describes the Calvin Cycle instead of the light reactions, award 0 marks for content but may award up to 1 mark for clarity if the explanation of the wrong
2025-07-07 01:53:59 | ERROR    | app.core.rubric_gemini_client:generate_rubric:59 - Failed to generate rubric: Unterminated string starting at: line 118 column 7 (char 6264)
2025-07-07 01:53:59 | INFO     | app.core.rubric_gemini_client:generate_answer_key:71 - Generating answer key for question: 1(b)
2025-07-07 01:54:26 | INFO     | app.core.rubric_gemini_client:generate_rubric:51 - Generating rubric for question: 2
2025-07-07 01:54:44 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 01:54:44 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 01:54:44 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 01:54:44 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 01:54:44 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 01:54:44 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 01:54:44 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 01:54:44 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 01:54:44 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 01:54:44 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 01:54:45 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 01:54:46 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 01:54:46 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 01:54:46 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 01:54:46 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 01:54:46 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 01:54:46 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 01:54:46 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 01:54:46 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 14 questions
2025-07-07 01:54:46 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 14 questions with 4 workers
2025-07-07 01:54:46 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 01:54:46 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:54:59 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'essay'..._time': '25-30 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:54:59 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 1(a)
2025-07-07 01:54:59 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(a)
2025-07-07 01:55:10 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'short_...ed_time': '3-5 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:55:10 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 1(b)
2025-07-07 01:55:10 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(b)
2025-07-07 01:55:30 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'descri..._time': '12-15 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:55:30 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 2
2025-07-07 01:55:30 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:55:47 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'multip...ed_time': '0-1 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:55:47 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:56:00 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'essay'..._time': '20-25 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:56:00 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(a)
2025-07-07 01:56:09 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'short_...ed_time': '3-5 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:56:09 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(b)
2025-07-07 01:56:26 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'descri..._time': '12-15 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:56:26 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:56:36 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'multip...': 'less than 1 minute'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:56:36 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1
2025-07-07 01:56:52 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'essay'..._time': '25-30 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:56:52 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 1: RetryError[<Future at 0x17ebbac8550 state=finished raised ValidationError>]
2025-07-07 01:56:52 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(a)
2025-07-07 01:57:02 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'short_...ed_time': '3-5 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:57:02 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 1(a): RetryError[<Future at 0x17ebbb39910 state=finished raised ValidationError>]
2025-07-07 01:57:02 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 1(b)
2025-07-07 01:57:18 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'descri..._time': '12-15 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:57:18 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_2 failed to process question 1(b): RetryError[<Future at 0x17ebbb3a310 state=finished raised ValidationError>]
2025-07-07 01:57:18 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 2
2025-07-07 01:57:30 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'multip...': 'Less than 1 minute'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:57:30 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_3 failed to process question 2: RetryError[<Future at 0x17ebbb3b090 state=finished raised ValidationError>]
2025-07-07 01:57:30 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 01:57:30 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 3
2025-07-07 01:57:30 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3
2025-07-07 01:57:48 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'case_s..._time': '20-25 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:57:48 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 01:57:48 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 3(i)
2025-07-07 01:57:48 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3(i)
2025-07-07 01:58:04 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'analyt..._time': '10-12 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:58:04 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 01:58:04 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 3(ii)
2025-07-07 01:58:04 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3(ii)
2025-07-07 01:58:20 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'predic...d_time': '8-10 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:58:20 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 01:58:20 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 4
2025-07-07 01:58:20 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 4
2025-07-07 01:58:37 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'numeri...ed_time': '5-7 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:58:37 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3
2025-07-07 01:58:53 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'case_s..._time': '18-20 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:58:53 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3(i)
2025-07-07 01:59:05 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'analyt...d_time': '8-10 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:59:05 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3(ii)
2025-07-07 01:59:21 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'predic...d_time': '8-10 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:59:21 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 4
2025-07-07 01:59:37 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'numeri...d_time': '8-10 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:59:37 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3
2025-07-07 01:59:52 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'case_s..._time': '18-22 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 01:59:52 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 3: RetryError[<Future at 0x17ebbb4d710 state=finished raised ValidationError>]
2025-07-07 01:59:52 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 3(i)
2025-07-07 02:00:09 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'analyt...d_time': '8-10 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 02:00:09 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 3(i): RetryError[<Future at 0x17ebbb4f010 state=finished raised ValidationError>]
2025-07-07 02:00:09 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:00:09 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 5
2025-07-07 02:00:09 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 5
2025-07-07 02:00:24 | ERROR    | app.core.rubric_gemini_client:classify_question:39 - Failed to classify question: 1 validation error for QuestionClassification
cognitive_skills
  Field required [type=missing, input_value={'question_type': 'matchi...ed_time': '3-5 minutes'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 02:00:24 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:00:24 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 6
2025-07-07 02:00:24 | INFO     | app.core.rubric_gemini_client:classify_question:31 - Classifying question: 6
2025-07-07 02:12:54 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:12:54 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:12:54 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:12:54 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:12:54 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:12:54 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:12:54 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:12:54 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:12:54 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:12:54 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:12:55 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 02:12:57 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 02:12:57 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 02:12:57 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 02:12:57 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 02:12:57 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 02:12:57 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 02:12:57 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 02:12:57 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 14 questions
2025-07-07 02:12:57 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 14 questions with 4 workers
2025-07-07 02:12:57 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 02:12:57 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1
2025-07-07 02:13:15 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 1(a)
2025-07-07 02:13:15 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1(a)
2025-07-07 02:13:30 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 1(b)
2025-07-07 02:13:30 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1(b)
2025-07-07 02:13:45 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 2
2025-07-07 02:13:45 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 2
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:54 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:56 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_3 failed to process question 2: RetryError[<Future at 0x17de8994210 state=finished raised ValueError>]
2025-07-07 02:13:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_2 failed to process question 1(b): RetryError[<Future at 0x17de89c4650 state=finished raised ValueError>]
2025-07-07 02:13:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 1: RetryError[<Future at 0x17de8a3f350 state=finished raised ValueError>]
2025-07-07 02:13:58 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 1(a): RetryError[<Future at 0x17de89d07d0 state=finished raised ValueError>]
2025-07-07 02:13:58 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: Unknown field for Schema: additional_properties
2025-07-07 02:13:58 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 3
2025-07-07 02:13:58 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3
2025-07-07 02:14:13 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 3(i)
2025-07-07 02:14:13 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3(i)
2025-07-07 02:14:23 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 3(ii)
2025-07-07 02:14:23 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3(ii)
2025-07-07 02:18:31 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:18:31 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:18:31 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:18:31 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:18:31 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:18:31 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:18:31 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:18:31 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:18:31 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:18:31 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:18:31 | INFO     | app.services.websocket_handler:connect:25 - WebSocket connected. Total connections: 1
2025-07-07 02:18:33 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:40 - Received rubric generation request via WebSocket
2025-07-07 02:18:33 | INFO     | app.services.websocket_handler:handle_rubric_generation:41 - Starting rubric generation process
2025-07-07 02:18:33 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 02:18:33 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 02:18:33 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 02:18:33 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 02:18:33 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 02:18:33 | INFO     | app.services.websocket_handler:handle_rubric_generation:90 - Starting parallel processing of 14 questions
2025-07-07 02:18:33 | INFO     | app.services.rubric_workers:process_questions:288 - Starting parallel processing of 14 questions with 4 workers
2025-07-07 02:18:33 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 1
2025-07-07 02:18:33 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1
2025-07-07 02:18:50 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 1(a)
2025-07-07 02:18:50 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1(a)
2025-07-07 02:19:04 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 1(b)
2025-07-07 02:19:04 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 1(b)
2025-07-07 02:19:19 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 2
2025-07-07 02:19:19 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 2
2025-07-07 02:19:28 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 1
2025-07-07 02:20:01 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 1
2025-07-07 02:20:28 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 1(a)
2025-07-07 02:20:57 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 1(a)
2025-07-07 02:21:19 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 1(b)
2025-07-07 02:21:50 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 1(b)
2025-07-07 02:22:14 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 2
2025-07-07 02:22:43 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 2
2025-07-07 02:22:55 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_0 completed question 1 in 262.11s
2025-07-07 02:22:55 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_1 completed question 1(a) in 245.08s
2025-07-07 02:22:55 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_2 completed question 1(b) in 231.30s
2025-07-07 02:22:55 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_3 completed question 2 in 216.30s
2025-07-07 02:22:55 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 3
2025-07-07 02:22:55 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3
2025-07-07 02:23:11 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 3(i)
2025-07-07 02:23:11 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3(i)
2025-07-07 02:23:23 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 3(ii)
2025-07-07 02:23:23 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 3(ii)
2025-07-07 02:23:37 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 4
2025-07-07 02:23:37 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 4
2025-07-07 02:23:55 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 3
2025-07-07 02:24:24 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 3
2025-07-07 02:24:47 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 3(i)
2025-07-07 02:25:17 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 3(i)
2025-07-07 02:25:39 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 3(ii)
2025-07-07 02:25:39 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
2025-07-07 02:25:39 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 3(ii)
2025-07-07 02:26:00 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 4
2025-07-07 02:26:33 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 4
2025-07-07 02:26:33 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 27
}
]
2025-07-07 02:26:33 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_0 completed question 3 in 217.44s
2025-07-07 02:26:33 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_1 completed question 3(i) in 201.64s
2025-07-07 02:26:33 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 3(ii)
2025-07-07 02:26:34 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 26
}
]
2025-07-07 02:26:34 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 02:26:34 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 5
2025-07-07 02:26:34 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 5
2025-07-07 02:26:35 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-07-07 02:26:35 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: 
2025-07-07 02:26:35 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 6
2025-07-07 02:26:35 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 6
2025-07-07 02:26:36 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 24
}
]
2025-07-07 02:26:36 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 4
2025-07-07 02:26:36 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 24
}
]
2025-07-07 02:26:36 | INFO     | app.core.rubric_gemini_client:generate_rubric:101 - Generating rubric for question: 3(ii)
2025-07-07 02:26:38 | ERROR    | app.core.rubric_gemini_client:generate_rubric:109 - Failed to generate rubric: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 22
}
]
2025-07-07 02:26:38 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_2 failed to process question 3(ii): RetryError[<Future at 0x206d50bc2d0 state=finished raised ResourceExhausted>]
2025-07-07 02:26:38 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 5
2025-07-07 02:26:38 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 22
}
]
2025-07-07 02:26:38 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:38 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_2 processing question 7
2025-07-07 02:26:38 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7
2025-07-07 02:26:39 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 21
}
]
2025-07-07 02:26:39 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 6
2025-07-07 02:26:40 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 20
}
]
2025-07-07 02:26:40 | INFO     | app.core.rubric_gemini_client:generate_answer_key:134 - Generating answer key for question: 4
2025-07-07 02:26:41 | ERROR    | app.core.rubric_gemini_client:generate_answer_key:142 - Failed to generate answer key: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 19
}
]
2025-07-07 02:26:41 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_3 failed to process question 4: RetryError[<Future at 0x206d50bffd0 state=finished raised ResourceExhausted>]
2025-07-07 02:26:41 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 5
2025-07-07 02:26:42 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 18
}
]
2025-07-07 02:26:42 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 5: RetryError[<Future at 0x206d46f5290 state=finished raised ResourceExhausted>]
2025-07-07 02:26:42 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:42 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_3 processing question 7(a)
2025-07-07 02:26:42 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(a)
2025-07-07 02:26:43 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 17
}
]
2025-07-07 02:26:43 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:43 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_0 processing question 7(b)
2025-07-07 02:26:43 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(b)
2025-07-07 02:26:43 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 17
}
]
2025-07-07 02:26:43 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7
2025-07-07 02:26:44 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 16
}
]
2025-07-07 02:26:44 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 6
2025-07-07 02:26:45 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 15
}
]
2025-07-07 02:26:45 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 6: RetryError[<Future at 0x206d5083250 state=finished raised ResourceExhausted>]
2025-07-07 02:26:45 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:45 | INFO     | app.services.rubric_workers:process_question:26 - Worker worker_1 processing question 7(c)
2025-07-07 02:26:45 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(c)
2025-07-07 02:26:46 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-07-07 02:26:46 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(a)
2025-07-07 02:26:46 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 14
}
]
2025-07-07 02:26:46 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(b)
2025-07-07 02:26:47 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 13
}
]
2025-07-07 02:26:47 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7
2025-07-07 02:26:48 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 12
}
]
2025-07-07 02:26:48 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_2 failed to process question 7: RetryError[<Future at 0x206d51da290 state=finished raised ResourceExhausted>]
2025-07-07 02:26:48 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(c)
2025-07-07 02:26:50 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 11
}
]
2025-07-07 02:26:50 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(a)
2025-07-07 02:26:50 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 9
}
]
2025-07-07 02:26:50 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_3 failed to process question 7(a): RetryError[<Future at 0x206d51d8590 state=finished raised ResourceExhausted>]
2025-07-07 02:26:50 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(b)
2025-07-07 02:26:52 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 8
}
]
2025-07-07 02:26:52 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 7(b): RetryError[<Future at 0x206d51f3c10 state=finished raised ResourceExhausted>]
2025-07-07 02:26:52 | INFO     | app.core.rubric_gemini_client:classify_question:68 - Classifying question: 7(c)
2025-07-07 02:26:53 | ERROR    | app.core.rubric_gemini_client:classify_question:76 - Failed to classify question: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 7
}
]
2025-07-07 02:26:53 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_1 failed to process question 7(c): RetryError[<Future at 0x206d4ff5fd0 state=finished raised ResourceExhausted>]
2025-07-07 02:26:53 | INFO     | app.services.rubric_workers:process_questions:315 - Completed processing 14 questions
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:53 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | ERROR    | app.services.websocket_handler:_send_message:150 - Failed to send WebSocket message: Cannot call "send" once a close message has been sent.
2025-07-07 02:26:54 | INFO     | app.services.websocket_handler:handle_rubric_generation:132 - Rubric generation completed: 6 successful, 8 failed, 500.76s total
2025-07-07 02:26:54 | ERROR    | app.api.websocket_endpoints:websocket_rubric_generation:66 - WebSocket error: WebSocket is not connected. Need to call "accept" first.
2025-07-07 02:26:54 | INFO     | app.services.websocket_handler:disconnect:31 - WebSocket disconnected. Total connections: 0
2025-07-07 02:40:26 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:40:33 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:40:33 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:40:33 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:40:33 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:40:33 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:40:33 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:40:33 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:40:33 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:40:33 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:40:33 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:40:52 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:40:56 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:40:56 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:40:56 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:40:56 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:40:56 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:40:56 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:40:56 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:40:56 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:40:56 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:40:56 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:41:14 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:41:19 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:41:19 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:41:19 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:41:19 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:41:19 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:41:19 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:41:19 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:41:19 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:41:19 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:41:19 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:41:32 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:41:36 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:41:37 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:41:37 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:41:37 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:41:37 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:41:37 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:41:37 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:41:37 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:41:37 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:41:37 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:42:00 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:42:07 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:42:07 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:42:07 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:42:07 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:42:07 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:42:07 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:42:07 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:42:07 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:42:07 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:42:07 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:42:07 | INFO     | app.services.websocket_handler:connect:19 - WebSocket connected. Total connections: 1
2025-07-07 02:44:00 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:63 - WebSocket client disconnected
2025-07-07 02:44:00 | INFO     | app.services.websocket_handler:disconnect:25 - WebSocket disconnected. Total connections: 0
2025-07-07 02:44:00 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:44:05 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:44:05 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:44:05 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:44:05 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:44:05 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:44:05 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:44:05 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:44:05 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:44:05 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:44:05 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:44:42 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:44:47 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:44:47 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:44:47 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:44:47 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:44:47 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:44:47 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:44:47 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:44:47 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:44:47 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:44:47 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 3 workers
2025-07-07 02:45:09 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:45:13 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:45:13 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:45:13 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:45:13 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:45:13 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:45:13 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:45:13 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:45:13 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:45:13 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:45:13 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:45:28 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:45:33 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:45:33 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:45:33 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:45:33 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:45:33 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:45:33 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:45:33 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:45:33 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:45:33 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:45:33 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:45:33 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:45:37 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:45:37 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:45:37 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:45:37 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:45:37 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:45:37 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:45:37 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:45:37 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:45:37 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:45:37 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:47:36 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:47:41 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:47:41 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:47:41 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:47:41 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:47:41 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:47:41 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:47:41 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:47:41 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:47:41 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:47:41 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 4 workers
2025-07-07 02:49:54 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:49:59 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:50:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:50:21 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:50:21 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:50:21 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:50:21 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:50:21 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:50:21 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:50:21 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:50:21 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:50:21 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:50:53 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:50:58 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:50:58 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:50:58 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:50:58 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:50:58 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:50:58 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:50:58 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:50:58 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:50:58 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:50:58 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:51:16 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:51:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:51:21 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:51:21 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:51:21 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:51:21 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:51:21 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:51:21 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:51:21 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:51:21 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:51:21 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:51:34 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:51:38 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:51:38 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:51:38 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:51:39 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:51:39 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:51:39 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:51:39 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:51:39 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:51:39 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:51:39 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:52:31 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:52:35 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:52:35 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:52:35 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:52:35 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:52:35 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:52:35 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:52:35 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:52:35 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:52:35 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:52:35 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:52:35 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:52:40 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:52:40 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:52:40 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:52:40 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:52:40 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:52:40 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:52:40 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:52:40 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:52:40 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:52:40 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:52:50 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:53:00 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:53:00 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:53:00 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:53:00 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:53:00 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:53:00 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:53:00 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:53:00 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:53:00 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:53:00 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:53:00 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:53:04 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:53:04 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:53:04 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:53:04 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:53:04 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:53:04 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:53:04 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:53:04 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:53:04 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:53:04 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:53:12 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:53:17 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:53:17 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:53:17 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:53:17 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:53:17 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:53:17 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:53:17 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:53:17 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:53:17 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:53:17 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:53:17 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:53:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:53:21 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:53:21 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:53:21 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:53:21 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:53:21 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:53:21 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:53:21 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:53:21 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:53:21 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:53:36 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 1517933479056
2025-07-07 02:53:36 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 02:53:37 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 1517933479056
2025-07-07 02:53:37 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 02:53:37 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 02:53:37 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 02:53:37 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 02:53:37 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 02:53:37 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 02:53:37 | INFO     | app.services.rubric_workers:process_questions:219 - Starting optimized processing of 14 questions with 2 workers
2025-07-07 02:53:37 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_0 processing question 1 with single API call
2025-07-07 02:53:37 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1 with structured output
2025-07-07 02:53:38 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_1 processing question 1(a) with single API call
2025-07-07 02:53:38 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1(a) with structured output
2025-07-07 02:53:40 | ERROR    | app.core.rubric_gemini_client:process_question_complete:54 - Failed to process question 1(a): 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 20
}
]
2025-07-07 02:53:40 | ERROR    | app.services.rubric_workers:process_question:71 - Worker worker_1 failed to process question 1(a): 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 20
}
]
2025-07-07 02:54:14 | INFO     | app.core.rubric_gemini_client:process_question_complete:42 - Successfully processed question: 1
2025-07-07 02:54:14 | ERROR    | app.services.rubric_workers:process_question:71 - Worker worker_0 failed to process question 1: 11 validation errors for Rubric
standard
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.weight
  Field required [type=missing, input_value={'criterion': 'Explanatio...reactions.', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.performance_levels
  Field required [type=missing, input_value={'criterion': 'Explanatio...reactions.', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.weight
  Field required [type=missing, input_value={'criterion': 'Explanatio...reactions.', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.performance_levels
  Field required [type=missing, input_value={'criterion': 'Explanatio...reactions.', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.2.weight
  Field required [type=missing, input_value={'criterion': 'Overall Pr...food webs.", 'marks': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.2.performance_levels
  Field required [type=missing, input_value={'criterion': 'Overall Pr...food webs.", 'marks': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.3.weight
  Field required [type=missing, input_value={'criterion': 'Clarity an...planation.', 'marks': 2}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.3.performance_levels
  Field required [type=missing, input_value={'criterion': 'Clarity an...planation.', 'marks': 2}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
marking_scheme
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
partial_marking_guidelines
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 02:54:14 | ERROR    | app.services.rubric_workers:process_questions:243 - Question 0 processing failed: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 02:54:14 | ERROR    | app.services.websocket_handler:handle_rubric_generation:139 - Error in rubric generation: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 02:54:14 | WARNING  | app.services.websocket_handler:_send_message_safe:165 - Failed to send WebSocket message: 
2025-07-07 02:54:14 | ERROR    | app.api.websocket_endpoints:websocket_rubric_generation:119 - WebSocket connection 1517933479056 error: WebSocket is not connected. Need to call "accept" first.
2025-07-07 02:54:14 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 02:54:14 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 1517933479056
2025-07-07 02:54:14 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:54:51 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:54:52 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:54:52 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:54:52 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:54:52 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:54:52 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:54:52 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:54:52 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:54:52 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:54:52 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:55:51 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:55:55 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:55:56 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:55:56 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:55:56 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:55:56 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:55:56 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:55:56 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:55:56 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:55:56 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:55:56 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 02:56:04 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 1683470021328
2025-07-07 02:56:04 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 02:56:06 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 1683470021328
2025-07-07 02:56:06 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 02:56:06 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 02:56:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 02:56:06 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 02:56:06 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 02:56:06 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 02:56:06 | INFO     | app.services.rubric_workers:process_questions:219 - Starting optimized processing of 14 questions with 2 workers
2025-07-07 02:56:06 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_0 processing question 1 with single API call
2025-07-07 02:56:06 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1 with structured output
2025-07-07 02:56:07 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_1 processing question 1(a) with single API call
2025-07-07 02:56:07 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1(a) with structured output
2025-07-07 02:56:34 | INFO     | app.core.rubric_gemini_client:process_question_complete:42 - Successfully processed question: 1(a)
2025-07-07 02:56:34 | ERROR    | app.services.rubric_workers:process_question:71 - Worker worker_1 failed to process question 1(a): 7 validation errors for Rubric
standard
  Field required [type=missing, input_value={'criteria': [{'criterion... 'type': 'basic_rubric'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.weight
  Field required [type=missing, input_value={'criterion': 'Definition...roducts.', 'marks': 2.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.performance_levels
  Field required [type=missing, input_value={'criterion': 'Definition...roducts.', 'marks': 2.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.weight
  Field required [type=missing, input_value={'criterion': 'Chemical E...quation.', 'marks': 3.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.performance_levels
  Field required [type=missing, input_value={'criterion': 'Chemical E...quation.', 'marks': 3.0}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
marking_scheme
  Field required [type=missing, input_value={'criteria': [{'criterion... 'type': 'basic_rubric'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
partial_marking_guidelines
  Field required [type=missing, input_value={'criteria': [{'criterion... 'type': 'basic_rubric'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 02:56:39 | INFO     | app.core.rubric_gemini_client:process_question_complete:42 - Successfully processed question: 1
2025-07-07 02:56:39 | ERROR    | app.services.rubric_workers:process_question:71 - Worker worker_0 failed to process question 1: 11 validation errors for Rubric
standard
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.weight
  Field required [type=missing, input_value={'criterion': 'Explanatio..., oxygen).', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.0.performance_levels
  Field required [type=missing, input_value={'criterion': 'Explanatio..., oxygen).', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.weight
  Field required [type=missing, input_value={'criterion': 'Explanatio...(glucose).', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.1.performance_levels
  Field required [type=missing, input_value={'criterion': 'Explanatio...(glucose).', 'marks': 5}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.2.weight
  Field required [type=missing, input_value={'criterion': 'Importance...od chains.", 'marks': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.2.performance_levels
  Field required [type=missing, input_value={'criterion': 'Importance...od chains.", 'marks': 3}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.3.weight
  Field required [type=missing, input_value={'criterion': 'Clarity an...the essay.', 'marks': 2}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
criteria.3.performance_levels
  Field required [type=missing, input_value={'criterion': 'Clarity an...the essay.', 'marks': 2}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
marking_scheme
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
partial_marking_guidelines
  Field required [type=missing, input_value={'criteria': [{'criterion...: 'detailed_analytical'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.9/v/missing
2025-07-07 02:56:39 | ERROR    | app.services.rubric_workers:process_questions:243 - Question 0 processing failed: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 02:56:39 | ERROR    | app.services.websocket_handler:handle_rubric_generation:139 - Error in rubric generation: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 02:59:17 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:117 - WebSocket connection 1683470021328 disconnected normally
2025-07-07 02:59:17 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 02:59:17 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 1683470021328
2025-07-07 02:59:17 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 02:59:24 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:59:42 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:59:47 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 02:59:47 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 02:59:47 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 02:59:47 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 02:59:47 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 02:59:47 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 02:59:47 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 02:59:47 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 02:59:47 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 02:59:47 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 03:01:15 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 2352468230032
2025-07-07 03:01:15 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 03:01:16 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 2352468230032
2025-07-07 03:01:16 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 03:01:16 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 03:01:16 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 03:01:16 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 03:01:16 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 03:01:16 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 03:01:16 | INFO     | app.services.rubric_workers:process_questions:219 - Starting optimized processing of 14 questions with 2 workers
2025-07-07 03:01:16 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_0 processing question 1 with single API call
2025-07-07 03:01:16 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1 with structured output
2025-07-07 03:01:16 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_1 processing question 1(a) with single API call
2025-07-07 03:01:16 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1(a) with structured output
2025-07-07 03:01:49 | INFO     | app.core.rubric_gemini_client:process_question_complete:45 - Successfully processed question: 1(a)
2025-07-07 03:01:49 | INFO     | app.services.rubric_workers:process_question:66 - Worker worker_1 completed question 1(a) in 32.75s
2025-07-07 03:01:58 | ERROR    | app.core.rubric_gemini_client:process_question_complete:57 - Failed to process question 1: Unterminated string starting at: line 144 column 28 (char 8139)
2025-07-07 03:01:58 | ERROR    | app.services.rubric_workers:process_question:71 - Worker worker_0 failed to process question 1: Unterminated string starting at: line 144 column 28 (char 8139)
2025-07-07 03:01:58 | ERROR    | app.services.rubric_workers:process_questions:243 - Question 0 processing failed: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 03:01:58 | ERROR    | app.services.websocket_handler:handle_rubric_generation:139 - Error in rubric generation: 1 validation error for PerformanceLevel
level
  Input should be 'Excellent', 'Proficient', 'Developing' or 'Beginning' [type=literal_error, input_value='Manual Review', input_type=str]
    For further information visit https://errors.pydantic.dev/2.9/v/literal_error
2025-07-07 03:02:33 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:117 - WebSocket connection 2352468230032 disconnected normally
2025-07-07 03:02:33 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 03:02:33 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 2352468230032
2025-07-07 03:02:33 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 03:02:40 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:02:48 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:02:49 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 03:02:49 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 03:02:49 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 03:02:49 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 03:02:49 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 03:02:49 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 03:02:49 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 03:02:49 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 03:02:49 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 03:02:51 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 2910395688336
2025-07-07 03:02:51 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 03:02:51 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 2910395688336
2025-07-07 03:02:51 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 03:02:51 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 03:02:51 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 03:02:51 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 03:02:51 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 03:02:51 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 03:02:51 | INFO     | app.services.rubric_workers:process_questions:365 - Starting optimized processing of 14 questions with 2 workers
2025-07-07 03:02:51 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_0 processing question 1 with single API call
2025-07-07 03:02:51 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1 with structured output
2025-07-07 03:02:52 | INFO     | app.services.rubric_workers:process_question:25 - Worker worker_1 processing question 1(a) with single API call
2025-07-07 03:02:52 | INFO     | app.core.rubric_gemini_client:process_question_complete:36 - Processing question 1(a) with structured output
2025-07-07 03:03:27 | INFO     | app.core.rubric_gemini_client:process_question_complete:45 - Successfully processed question: 1(a)
2025-07-07 03:03:27 | INFO     | app.services.rubric_workers:process_question:62 - Worker worker_1 completed question 1(a) in 35.32s
2025-07-07 03:03:35 | ERROR    | app.core.rubric_gemini_client:process_question_complete:57 - Failed to process question 1: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 2.
2025-07-07 03:03:35 | ERROR    | app.services.rubric_workers:process_question:67 - Worker worker_0 failed to process question 1: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. The candidate's [finish_reason](https://ai.google.dev/api/generate-content#finishreason) is 2.
2025-07-07 03:03:35 | ERROR    | app.services.rubric_workers:_process_question_with_delay:433 - Worker processing failed for question 1: cannot import name 'AnswerPoint' from 'app.models.rubric_schemas' (D:\WEBDEV\microserive for quetsion extraction -only gemini\question_paper_analyzer\app\models\rubric_schemas.py)
2025-07-07 03:03:35 | ERROR    | app.services.rubric_workers:process_questions:390 - Question 0 processing failed: cannot import name 'AnswerPoint' from 'app.models.rubric_schemas' (D:\WEBDEV\microserive for quetsion extraction -only gemini\question_paper_analyzer\app\models\rubric_schemas.py)
2025-07-07 03:03:35 | ERROR    | app.services.rubric_workers:process_questions:405 - Batch processing failed: cannot import name 'AnswerPoint' from 'app.models.rubric_schemas' (D:\WEBDEV\microserive for quetsion extraction -only gemini\question_paper_analyzer\app\models\rubric_schemas.py)
2025-07-07 03:03:35 | ERROR    | app.services.websocket_handler:handle_rubric_generation:139 - Error in rubric generation: cannot import name 'AnswerPoint' from 'app.models.rubric_schemas' (D:\WEBDEV\microserive for quetsion extraction -only gemini\question_paper_analyzer\app\models\rubric_schemas.py)
2025-07-07 03:08:06 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:117 - WebSocket connection 2910395688336 disconnected normally
2025-07-07 03:08:06 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 03:08:06 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 2910395688336
2025-07-07 03:08:06 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 03:08:12 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:08:13 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 03:08:13 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 03:08:13 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 03:08:13 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 03:08:13 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 03:08:13 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 03:08:13 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 03:08:13 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 03:08:13 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 2 workers
2025-07-07 03:08:50 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 03:08:54 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:09:17 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:11:27 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:11:50 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:13:41 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:13:45 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:14:07 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:14:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:16:32 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:16:37 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:16:41 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:16:47 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:17:04 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:17:19 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:17:50 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:17:58 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:18:50 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:22:24 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:22:24 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 03:22:24 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 03:22:24 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 03:22:24 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 03:22:24 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 03:22:24 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 03:22:24 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 03:22:24 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 03:22:24 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 03:22:31 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 3096346086288
2025-07-07 03:22:31 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 03:22:33 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 3096346086288
2025-07-07 03:22:33 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 03:22:33 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 03:22:33 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 03:22:33 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 03:22:33 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 03:22:33 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 03:22:33 | INFO     | app.services.rubric_workers:process_questions:578 - Starting optimized processing of 14 questions with 1 workers
2025-07-07 03:22:33 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 1/14: 1
2025-07-07 03:22:33 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1 with single API call
2025-07-07 03:22:33 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1 with structured output
2025-07-07 03:23:27 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 1: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:23:27 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 1: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:23:27 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 1
2025-07-07 03:23:27 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:23:29 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 2/14: 1(a)
2025-07-07 03:23:29 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1(a) with single API call
2025-07-07 03:23:29 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1(a) with structured output
2025-07-07 03:24:28 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 1(a): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:24:28 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 1(a): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:24:28 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 1(a)
2025-07-07 03:24:28 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:24:30 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 3/14: 1(b)
2025-07-07 03:24:30 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1(b) with single API call
2025-07-07 03:24:30 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1(b) with structured output
2025-07-07 03:25:22 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 1(b): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:25:22 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 1(b): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:25:22 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 1(b)
2025-07-07 03:25:22 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:25:24 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 4/14: 2
2025-07-07 03:25:24 | WARNING  | app.services.websocket_handler:_send_message_safe:165 - Failed to send WebSocket message: 
2025-07-07 03:25:24 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 2 with single API call
2025-07-07 03:25:24 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 2 with structured output
2025-07-07 03:26:06 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 03:26:06 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 03:26:06 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 03:26:06 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 03:26:06 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 03:26:06 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 03:26:06 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 03:26:06 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 03:26:06 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 03:26:06 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 03:26:07 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 1833863020624
2025-07-07 03:26:07 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 03:26:08 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 1833863020624
2025-07-07 03:26:08 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 03:26:08 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 2 sections from enhanced response
2025-07-07 03:26:08 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 4 questions in section Section A
2025-07-07 03:26:08 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 3 questions in section Section B
2025-07-07 03:26:08 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 14 questions/subquestions
2025-07-07 03:26:08 | INFO     | app.services.question_parser:validate_questions:117 - Validated 14 out of 14 questions
2025-07-07 03:26:08 | INFO     | app.services.rubric_workers:process_questions:578 - Starting optimized processing of 14 questions with 1 workers
2025-07-07 03:26:08 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 1/14: 1
2025-07-07 03:26:08 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1 with single API call
2025-07-07 03:26:08 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1 with structured output
2025-07-07 03:26:28 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 1: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:26:28 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 1: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:26:28 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 1
2025-07-07 03:26:28 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:26:30 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 2/14: 1(a)
2025-07-07 03:26:30 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1(a) with single API call
2025-07-07 03:26:30 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1(a) with structured output
2025-07-07 03:26:42 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 1(a)
2025-07-07 03:26:42 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Definitio...synthesis', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:26:42 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Accurate ... Equation', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:26:42 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 1(a) in 12.35s
2025-07-07 03:26:42 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 1(a)
2025-07-07 03:26:42 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:26:44 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 3/14: 1(b)
2025-07-07 03:26:44 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1(b) with single API call
2025-07-07 03:26:44 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 1(b) with structured output
2025-07-07 03:27:03 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 1(b)
2025-07-07 03:27:03 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Explanati...anization', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:03 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Location ...d Clarity', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:03 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 1(b) in 19.50s
2025-07-07 03:27:03 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 1(b)
2025-07-07 03:27:03 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:27:05 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 4/14: 2
2025-07-07 03:27:05 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 2 with single API call
2025-07-07 03:27:05 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 2 with structured output
2025-07-07 03:27:16 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 2
2025-07-07 03:27:16 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct C...l Formula', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:16 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct C...ula (H2O)', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:16 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 2 in 10.47s
2025-07-07 03:27:16 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 2
2025-07-07 03:27:16 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:27:18 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 5/14: 3
2025-07-07 03:27:18 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 3 with single API call
2025-07-07 03:27:18 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 3 with structured output
2025-07-07 03:27:36 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 3
2025-07-07 03:27:36 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Understan...d Clarity', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:36 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Identific...d Clarity', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:27:36 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 3 in 18.28s
2025-07-07 03:27:36 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 3
2025-07-07 03:27:36 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:27:38 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 6/14: 3(i)
2025-07-07 03:27:38 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 3(i) with single API call
2025-07-07 03:27:38 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 3(i) with structured output
2025-07-07 03:27:56 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 3(i): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:27:56 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 3(i): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:27:56 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 3(i)
2025-07-07 03:27:56 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:27:58 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 7/14: 3(ii)
2025-07-07 03:27:58 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 3(ii) with single API call
2025-07-07 03:27:58 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 3(ii) with structured output
2025-07-07 03:28:18 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 3(ii): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:28:18 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 3(ii): Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:28:18 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 3(ii)
2025-07-07 03:28:18 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:28:20 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 8/14: 4
2025-07-07 03:28:20 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 4 with single API call
2025-07-07 03:28:20 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 4 with structured output
2025-07-07 03:28:38 | ERROR    | app.core.rubric_gemini_client:process_question_complete:244 - Failed to process question 4: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:28:38 | ERROR    | app.services.rubric_workers:process_question:69 - Worker worker_0 failed to process question 4: Generation failed with finish_reason: MAX_TOKENS
2025-07-07 03:28:38 | WARNING  | app.services.rubric_workers:process_questions:600 - Failed to process question 4
2025-07-07 03:28:38 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:28:40 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 9/14: 5
2025-07-07 03:28:40 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 5 with single API call
2025-07-07 03:28:40 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 5 with structured output
2025-07-07 03:28:53 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 5
2025-07-07 03:28:53 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Each corr...tion pair', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:28:53 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Each correct match', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:28:53 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 5 in 12.73s
2025-07-07 03:28:53 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 5
2025-07-07 03:28:53 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:28:55 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 10/14: 6
2025-07-07 03:28:55 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 6 with single API call
2025-07-07 03:28:55 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 6 with structured output
2025-07-07 03:29:07 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 6
2025-07-07 03:29:07 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'First bla...ird blank', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:07 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'First bla...(glucose)', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:07 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 6 in 12.47s
2025-07-07 03:29:07 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 6
2025-07-07 03:29:07 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:29:09 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 11/14: 7
2025-07-07 03:29:09 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7 with single API call
2025-07-07 03:29:09 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 7 with structured output
2025-07-07 03:29:23 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 7
2025-07-07 03:29:23 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Accuracy ...ification', 'marks': 5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:23 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct i...tatement)', 'marks': 5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:23 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7 in 14.06s
2025-07-07 03:29:23 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 7
2025-07-07 03:29:23 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:29:25 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 12/14: 7(a)
2025-07-07 03:29:25 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7(a) with single API call
2025-07-07 03:29:25 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 7(a) with structured output
2025-07-07 03:29:39 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 7(a)
2025-07-07 03:29:39 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correctne...reactions', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:39 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct T...in cycle)', 'marks': 1}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:39 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7(a) in 13.58s
2025-07-07 03:29:39 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 7(a)
2025-07-07 03:29:39 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:29:41 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 13/14: 7(b)
2025-07-07 03:29:41 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7(b) with single API call
2025-07-07 03:29:41 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 7(b) with structured output
2025-07-07 03:29:50 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 7(b)
2025-07-07 03:29:50 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correctne...ification', 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:50 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct T... that do)", 'marks': 2}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:29:50 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7(b) in 9.10s
2025-07-07 03:29:50 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 7(b)
2025-07-07 03:29:50 | INFO     | app.services.rubric_workers:process_questions:604 - Waiting 2.0 seconds before next question...
2025-07-07 03:29:52 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 14/14: 7(c)
2025-07-07 03:29:52 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7(c) with single API call
2025-07-07 03:29:52 | INFO     | app.core.rubric_gemini_client:process_question_complete:189 - Processing question 7(c) with structured output
2025-07-07 03:30:07 | INFO     | app.core.rubric_gemini_client:process_question_complete:232 - Successfully processed question: 7(c)
2025-07-07 03:30:07 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correctne...iration', 'marks': 1.5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:30:07 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Correct i...iration', 'marks': 1.5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 03:30:07 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7(c) in 15.71s
2025-07-07 03:30:07 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 7(c)
2025-07-07 03:30:07 | INFO     | app.services.rubric_workers:process_questions:618 - Completed processing: 10 successful, 4 failed
2025-07-07 03:30:08 | INFO     | app.services.websocket_handler:handle_rubric_generation:136 - Optimized rubric generation completed: 10 successful, 4 failed, 240.04s total
2025-07-07 03:35:08 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:106 - WebSocket connection 1833863020624 timed out
2025-07-07 03:35:08 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 03:35:08 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 1833863020624
2025-07-07 11:07:16 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:07:16 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 11:07:16 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 11:07:16 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 11:07:16 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 11:07:16 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 11:07:16 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 11:07:16 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 11:07:16 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 11:07:16 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 11:07:24 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 11:07:29 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:07:29 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 11:07:29 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 11:07:29 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 11:07:29 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 11:07:29 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 11:07:29 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 11:07:29 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 11:07:29 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 11:07:29 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 11:12:15 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 2696606436624
2025-07-07 11:12:15 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 11:12:29 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 2696606436624
2025-07-07 11:12:29 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 11:12:29 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 1 sections from enhanced response
2025-07-07 11:12:29 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 1 questions in section Section A
2025-07-07 11:12:29 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 1 questions/subquestions
2025-07-07 11:12:29 | INFO     | app.services.question_parser:validate_questions:117 - Validated 1 out of 1 questions
2025-07-07 11:12:29 | INFO     | app.services.rubric_workers:process_questions:578 - Starting optimized processing of 1 questions with 1 workers
2025-07-07 11:12:29 | INFO     | app.services.rubric_workers:process_questions:585 - Processing question 1/1: 1
2025-07-07 11:12:29 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1 with single API call
2025-07-07 11:12:29 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 1 with structured output
2025-07-07 11:12:48 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 1
2025-07-07 11:12:48 | WARNING  | app.services.rubric_workers:_create_rubric_safe:107 - Failed to create rubric from API response, creating default: 1 validation error for Rubric
marking_scheme.mark_distribution
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Definitio...ocation', 'marks': 0.5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 11:12:48 | WARNING  | app.services.rubric_workers:_create_answer_key_safe:217 - Failed to create answer key from API response, creating default: 1 validation error for AnswerKey
mark_distribution_guide
  Input should be a valid dictionary [type=dict_type, input_value=[{'component': 'Definitio...Leaves)', 'marks': 0.5}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.9/v/dict_type
2025-07-07 11:12:48 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 1 in 19.70s
2025-07-07 11:12:48 | INFO     | app.services.rubric_workers:process_questions:598 - Successfully processed question 1
2025-07-07 11:12:48 | INFO     | app.services.rubric_workers:process_questions:618 - Completed processing: 1 successful, 0 failed
2025-07-07 11:12:49 | INFO     | app.services.websocket_handler:handle_rubric_generation:136 - Optimized rubric generation completed: 1 successful, 0 failed, 19.77s total
2025-07-07 11:15:26 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:117 - WebSocket connection 2696606436624 disconnected normally
2025-07-07 11:15:26 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 11:15:26 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 2696606436624
2025-07-07 11:15:26 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 11:15:33 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:15:33 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 11:15:33 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 11:15:33 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 11:15:33 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 11:15:33 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 11:15:33 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 11:15:33 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 11:15:33 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 11:15:33 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 11:16:00 | INFO     | app.main:shutdown_event:121 - Shutting down Question Paper Analyzer
2025-07-07 11:16:04 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:16:54 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:17:19 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:21:21 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:21:35 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-07 11:21:35 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-07 11:21:35 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-07 11:21:35 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-07 11:21:35 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-07 11:21:35 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-07 11:21:35 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-07 11:21:35 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-07 11:21:35 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-07 11:21:35 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-07 11:21:59 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 2172260332304
2025-07-07 11:21:59 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 11:22:01 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 2172260332304
2025-07-07 11:22:01 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 11:22:01 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 1 sections from enhanced response
2025-07-07 11:22:01 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 1 questions in section Section A
2025-07-07 11:22:01 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 1 questions/subquestions
2025-07-07 11:22:01 | INFO     | app.services.question_parser:validate_questions:117 - Validated 1 out of 1 questions
2025-07-07 11:22:01 | INFO     | app.services.rubric_workers:process_questions:628 - Starting optimized processing of 1 questions with 1 workers
2025-07-07 11:22:01 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 1/1: 1
2025-07-07 11:22:01 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1 with single API call
2025-07-07 11:22:01 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 1 with structured output
2025-07-07 11:22:22 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 1
2025-07-07 11:22:22 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 1 in 20.86s
2025-07-07 11:22:22 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 1
2025-07-07 11:22:22 | INFO     | app.services.rubric_workers:process_questions:668 - Completed processing: 1 successful, 0 failed
2025-07-07 11:22:22 | INFO     | app.services.websocket_handler:handle_rubric_generation:136 - Optimized rubric generation completed: 1 successful, 0 failed, 20.92s total
2025-07-07 11:25:05 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:117 - WebSocket connection 2172260332304 disconnected normally
2025-07-07 11:25:05 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 11:25:05 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 2172260332304
2025-07-07 11:25:08 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:33 - New WebSocket connection: 2172260182480
2025-07-07 11:25:08 | INFO     | app.services.websocket_handler:connect:24 - WebSocket connected. Total connections: 1
2025-07-07 11:25:09 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:61 - Processing rubric generation request from connection 2172260182480
2025-07-07 11:25:09 | INFO     | app.services.websocket_handler:handle_rubric_generation:38 - Starting optimized rubric generation
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:18 - Parsing 4 sections from enhanced response
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 2 questions in section Section A - Multiple Choice Questions
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 2 questions in section Section B - Short Answer Questions
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 2 questions in section Section C - Essay Questions
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:31 - Processing 1 questions in section Section D - Case Study
2025-07-07 11:25:09 | INFO     | app.services.question_parser:parse_enhanced_response:44 - Parsed total of 10 questions/subquestions
2025-07-07 11:25:09 | INFO     | app.services.question_parser:validate_questions:117 - Validated 10 out of 10 questions
2025-07-07 11:25:09 | INFO     | app.services.rubric_workers:process_questions:628 - Starting optimized processing of 10 questions with 1 workers
2025-07-07 11:25:09 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 1/10: 1
2025-07-07 11:25:09 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 1 with single API call
2025-07-07 11:25:09 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 1 with structured output
2025-07-07 11:25:20 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 1
2025-07-07 11:25:20 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 1 in 10.94s
2025-07-07 11:25:20 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 1
2025-07-07 11:25:20 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:25:22 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 2/10: 2
2025-07-07 11:25:22 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 2 with single API call
2025-07-07 11:25:22 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 2 with structured output
2025-07-07 11:25:31 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 2
2025-07-07 11:25:31 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 2 in 8.66s
2025-07-07 11:25:31 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 2
2025-07-07 11:25:31 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:25:33 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 3/10: 3
2025-07-07 11:25:33 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 3 with single API call
2025-07-07 11:25:33 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 3 with structured output
2025-07-07 11:26:01 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 3
2025-07-07 11:26:01 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 3 in 28.47s
2025-07-07 11:26:01 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 3
2025-07-07 11:26:01 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:26:03 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 4/10: 4
2025-07-07 11:26:03 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 4 with single API call
2025-07-07 11:26:03 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 4 with structured output
2025-07-07 11:26:20 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 4
2025-07-07 11:26:20 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 4 in 17.14s
2025-07-07 11:26:20 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 4
2025-07-07 11:26:20 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:26:22 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 5/10: 5
2025-07-07 11:26:22 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 5 with single API call
2025-07-07 11:26:22 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 5 with structured output
2025-07-07 11:26:48 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 5
2025-07-07 11:26:48 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 5 in 25.54s
2025-07-07 11:26:48 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 5
2025-07-07 11:26:48 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:26:50 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 6/10: 6
2025-07-07 11:26:50 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 6 with single API call
2025-07-07 11:26:50 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 6 with structured output
2025-07-07 11:27:17 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 6
2025-07-07 11:27:17 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 6 in 26.76s
2025-07-07 11:27:17 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 6
2025-07-07 11:27:17 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:27:19 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 7/10: 7
2025-07-07 11:27:19 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7 with single API call
2025-07-07 11:27:19 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 7 with structured output
2025-07-07 11:27:40 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 7
2025-07-07 11:27:40 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7 in 21.15s
2025-07-07 11:27:40 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 7
2025-07-07 11:27:40 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:27:42 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 8/10: 7a
2025-07-07 11:27:42 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7a with single API call
2025-07-07 11:27:42 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 7a with structured output
2025-07-07 11:28:00 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 7a
2025-07-07 11:28:00 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7a in 17.56s
2025-07-07 11:28:00 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 7a
2025-07-07 11:28:00 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:28:02 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 9/10: 7b
2025-07-07 11:28:02 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7b with single API call
2025-07-07 11:28:02 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 7b with structured output
2025-07-07 11:28:24 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 7b
2025-07-07 11:28:24 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7b in 22.81s
2025-07-07 11:28:24 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 7b
2025-07-07 11:28:24 | INFO     | app.services.rubric_workers:process_questions:654 - Waiting 2.0 seconds before next question...
2025-07-07 11:28:26 | INFO     | app.services.rubric_workers:process_questions:635 - Processing question 10/10: 7c
2025-07-07 11:28:26 | INFO     | app.services.rubric_workers:process_question:27 - Worker worker_0 processing question 7c with single API call
2025-07-07 11:28:26 | INFO     | app.core.rubric_gemini_client:process_question_complete:188 - Processing question 7c with structured output
2025-07-07 11:28:42 | INFO     | app.core.rubric_gemini_client:process_question_complete:231 - Successfully processed question: 7c
2025-07-07 11:28:42 | INFO     | app.services.rubric_workers:process_question:64 - Worker worker_0 completed question 7c in 15.75s
2025-07-07 11:28:42 | INFO     | app.services.rubric_workers:process_questions:648 - Successfully processed question 7c
2025-07-07 11:28:42 | INFO     | app.services.rubric_workers:process_questions:668 - Completed processing: 10 successful, 0 failed
2025-07-07 11:28:43 | INFO     | app.services.websocket_handler:handle_rubric_generation:136 - Optimized rubric generation completed: 10 successful, 0 failed, 213.44s total
2025-07-07 11:33:43 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:106 - WebSocket connection 2172260182480 timed out
2025-07-07 11:33:43 | INFO     | app.services.websocket_handler:disconnect:29 - WebSocket disconnected. Total connections: 0
2025-07-07 11:33:43 | INFO     | app.api.websocket_endpoints:websocket_rubric_generation:122 - Cleaned up WebSocket connection 2172260182480
2025-07-08 11:30:27 | INFO     | app.services.question_classifier:_load_question_types:16 - Loaded 44 question types
2025-07-08 11:30:27 | INFO     | app.main:startup_event:95 - Starting Question Paper Analyzer v3.0.0
2025-07-08 11:30:27 | INFO     | app.main:startup_event:96 - Max file size: 20MB
2025-07-08 11:30:27 | INFO     | app.main:startup_event:97 - Gemini model: gemini-2.5-pro
2025-07-08 11:30:27 | INFO     | app.main:startup_event:98 - Enhanced extraction enabled: True
2025-07-08 11:30:27 | INFO     | app.main:startup_event:99 - Rubric generation enabled: True
2025-07-08 11:30:27 | INFO     | app.main:startup_event:100 - Rubric worker count: 4
2025-07-08 11:30:27 | INFO     | app.main:startup_event:101 - Rubric quality mode: balanced
2025-07-08 11:30:27 | INFO     | app.main:startup_event:110 - Loaded 44 question types
2025-07-08 11:30:27 | INFO     | app.main:startup_event:116 - Initialized rubric generation with 1 workers
2025-07-08 11:31:06 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:79 - Received file for enhanced analysis: 086_SCIENCE (1).pdf
2025-07-08 11:31:06 | INFO     | app.services.pdf_analyzer:_validate_file:193 - File validation passed: 086_SCIENCE (1).pdf
2025-07-08 11:31:06 | INFO     | app.services.pdf_analyzer:_save_temp_file:206 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_od4kn2tk.pdf (3330448 bytes)
2025-07-08 11:31:06 | INFO     | app.core.gemini_client:upload_file:27 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_od4kn2tk.pdf
2025-07-08 11:31:23 | INFO     | app.core.gemini_client:upload_file:40 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/ng6fxdl7xfym
2025-07-08 11:31:23 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-08 11:31:23 | INFO     | app.core.gemini_client:analyze_structure:55 - Sending structure analysis request to Gemini
2025-07-08 11:32:36 | INFO     | app.core.gemini_client:analyze_structure:62 - Received structure response from Gemini
2025-07-08 11:32:36 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 11:32:36 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 73.01s
2025-07-08 11:32:36 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-08 11:32:36 | INFO     | app.core.gemini_client:extract_content:79 - Sending content extraction request to Gemini
2025-07-08 11:34:37 | INFO     | app.core.gemini_client:extract_content:86 - Received content response from Gemini
2025-07-08 11:34:37 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 11:34:37 | INFO     | app.core.gemini_client:_post_process_content_response:102 - Post-processing content response...
2025-07-08 11:34:37 | INFO     | app.core.gemini_client:_post_process_content_response:144 - Content response post-processing completed
2025-07-08 11:34:37 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 120.92s
2025-07-08 11:34:37 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:149 - Preprocessing Gemini response for validation...
2025-07-08 11:34:37 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:176 - Gemini response preprocessing completed
2025-07-08 11:34:37 | INFO     | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:258 - Successfully structured enhanced response with 3 sections
2025-07-08 11:34:37 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:144 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_od4kn2tk.pdf
2025-07-08 11:34:37 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:90 - Enhanced analysis completed successfully in 210.13s (structure: 73.01s, content: 120.92s)
2025-07-08 11:35:16 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:79 - Received file for enhanced analysis: class 10 scinece.pdf
2025-07-08 11:35:16 | INFO     | app.services.pdf_analyzer:_validate_file:193 - File validation passed: class 10 scinece.pdf
2025-07-08 11:35:16 | INFO     | app.services.pdf_analyzer:_save_temp_file:206 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_mcu777i2.pdf (918043 bytes)
2025-07-08 11:35:16 | INFO     | app.core.gemini_client:upload_file:27 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_mcu777i2.pdf
2025-07-08 11:35:25 | INFO     | app.core.gemini_client:upload_file:40 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/y8ixsudv93cq
2025-07-08 11:35:25 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-08 11:35:25 | INFO     | app.core.gemini_client:analyze_structure:55 - Sending structure analysis request to Gemini
2025-07-08 11:37:16 | INFO     | app.core.gemini_client:analyze_structure:62 - Received structure response from Gemini
2025-07-08 11:37:16 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 11:37:16 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 111.21s
2025-07-08 11:37:16 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-08 11:37:16 | INFO     | app.core.gemini_client:extract_content:79 - Sending content extraction request to Gemini
2025-07-08 11:44:29 | INFO     | app.core.gemini_client:extract_content:86 - Received content response from Gemini
2025-07-08 11:44:29 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 11:44:29 | INFO     | app.core.gemini_client:_post_process_content_response:102 - Post-processing content response...
2025-07-08 11:44:29 | INFO     | app.core.gemini_client:_post_process_content_response:144 - Content response post-processing completed
2025-07-08 11:44:29 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 432.66s
2025-07-08 11:44:29 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:149 - Preprocessing Gemini response for validation...
2025-07-08 11:44:29 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:176 - Gemini response preprocessing completed
2025-07-08 11:44:29 | ERROR    | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:262 - Failed to validate enhanced response: 1 validation error for EnhancedQuestionPaperStructure
sections.questions.subquestions.label
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
2025-07-08 11:44:29 | ERROR    | app.services.pdf_analyzer:analyze_question_paper_with_content:130 - Enhanced analysis failed: Invalid enhanced response structure: 1 validation error for EnhancedQuestionPaperStructure
sections.questions.subquestions.label
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
2025-07-08 11:44:29 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:144 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_mcu777i2.pdf
2025-07-08 11:44:29 | ERROR    | app.api.endpoints:analyze_question_paper_enhanced:102 - Enhanced analysis failed: Invalid enhanced response structure: 1 validation error for EnhancedQuestionPaperStructure
sections.questions.subquestions.label
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.9/v/string_type
2025-07-08 12:39:34 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:79 - Received file for enhanced analysis: class 10 scinece.pdf
2025-07-08 12:39:34 | INFO     | app.services.pdf_analyzer:_validate_file:193 - File validation passed: class 10 scinece.pdf
2025-07-08 12:39:34 | INFO     | app.services.pdf_analyzer:_save_temp_file:206 - Saved temp file: C:\Users\User\AppData\Local\Temp\question_paper_hd9qf0uc.pdf (918043 bytes)
2025-07-08 12:39:34 | INFO     | app.core.gemini_client:upload_file:27 - Uploading file to Gemini: C:\Users\User\AppData\Local\Temp\question_paper_hd9qf0uc.pdf
2025-07-08 12:39:43 | INFO     | app.core.gemini_client:upload_file:40 - File uploaded and processed successfully: https://generativelanguage.googleapis.com/v1beta/files/a4gum8mli33k
2025-07-08 12:39:43 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:100 - Step 1: Extracting question paper structure...
2025-07-08 12:39:43 | INFO     | app.core.gemini_client:analyze_structure:55 - Sending structure analysis request to Gemini
2025-07-08 12:41:07 | INFO     | app.core.gemini_client:analyze_structure:62 - Received structure response from Gemini
2025-07-08 12:41:07 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 12:41:07 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:103 - Structure extraction completed in 84.47s
2025-07-08 12:41:07 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:107 - Step 2: Extracting question content...
2025-07-08 12:41:07 | INFO     | app.core.gemini_client:extract_content:79 - Sending content extraction request to Gemini
2025-07-08 12:44:55 | INFO     | app.core.gemini_client:extract_content:86 - Received content response from Gemini
2025-07-08 12:44:55 | INFO     | app.core.gemini_client:_parse_json_response:167 - Successfully parsed JSON response from Gemini
2025-07-08 12:44:55 | INFO     | app.core.gemini_client:_post_process_content_response:102 - Post-processing content response...
2025-07-08 12:44:55 | INFO     | app.core.gemini_client:_post_process_content_response:144 - Content response post-processing completed
2025-07-08 12:44:55 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:110 - Content extraction completed in 227.57s
2025-07-08 12:44:55 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:149 - Preprocessing Gemini response for validation...
2025-07-08 12:44:55 | INFO     | app.services.pdf_analyzer:_preprocess_gemini_response:176 - Gemini response preprocessing completed
2025-07-08 12:44:55 | INFO     | app.services.pdf_analyzer:_validate_and_structure_enhanced_response:258 - Successfully structured enhanced response with 6 sections
2025-07-08 12:44:55 | INFO     | app.services.pdf_analyzer:analyze_question_paper_with_content:144 - Cleaned up temp file: C:\Users\User\AppData\Local\Temp\question_paper_hd9qf0uc.pdf
2025-07-08 12:44:55 | INFO     | app.api.endpoints:analyze_question_paper_enhanced:90 - Enhanced analysis completed successfully in 321.23s (structure: 84.47s, content: 227.57s)
